import{aD as keys,g as genericComponent,ay as makeTagProps,l as makeThemeProps,x as provideTheme,aE as useRtl,Z as useLocale,aF as useGroup,r as ref,T as computed,A as watch,U as provide,f as createVNode,L as VBtn,e as useRender,ad as withDirectives,at as resolveDirective,aG as makeGroupItemProps,aH as makeLazyProps,Y as inject,aI as useGroupItem,aJ as useSsrBoot,aK as useLazy,ae as vShow,al as MaybeTransition,a8 as convertToUnit,av as nextTick,u as useUserStore,s as storeToRefs,aA as useStorageStore,o as openBlock,K as createBlock,F as withCtx,aL as VCardTitle,a as createBaseVNode,H as toDisplayString,aM as VSpacer,aN as VCardText,aC as VDivider,aB as VAvatar,I as unref,c as createElementBlock,N as VProgressCircular,M as createCommentVNode,aO as VImg,aP as VCardActions,G as createTextVNode,aQ as VProgressLinear,O as VCard,aR as Croppie,P as pushScopeId,Q as popScopeId,p as makeVOverlayProps,aS as VDialogTransition,q as useProxiedModel,w as useScopeId,aT as IN_BROWSER,h as forwardRefs,D as mergeProps,B as filterVOverlayProps,V as VDefaultsProvider,E as VOverlay,aU as makeDelayProps,aV as useDelay,d as defineComponent,aW as normalizeClass,_ as VIcon}from"./index.52b71f3b.js";import{_ as _export_sfc,V as VTextField}from"./_plugin-vue_export-helper.2ea472fc.js";import{V as VRow,a as VCol}from"./VRow.bd2a9d13.js";const croppie="";function _mergeNamespaces(t,a){return a.forEach(function(c){Object.keys(c).forEach(function(n){if(n!=="default"&&!(n in t)){var e=Object.getOwnPropertyDescriptor(c,n);Object.defineProperty(t,n,e.get?e:{enumerable:!0,get:function(){return c[n]}})}})}),Object.freeze(t)}function ownKeys(t,a){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),c.push.apply(c,n)}return c}function _objectSpread2(t){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?ownKeys(Object(c),!0).forEach(function(n){_defineProperty(t,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):ownKeys(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}function _defineProperty(t,a,c){return a in t?Object.defineProperty(t,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[a]=c,t}function _slicedToArray(t,a){return _arrayWithHoles(t)||_iterableToArrayLimit(t,a)||_unsupportedIterableToArray(t,a)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,a){var c=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(c!=null){var n,e,r=[],s=!0,i=!1;try{for(c=c.call(t);!(s=(n=c.next()).done)&&(r.push(n.value),!a||r.length!==a);s=!0);}catch(u){i=!0,e=u}finally{try{s||c.return==null||c.return()}finally{if(i)throw e}}return r}}function _unsupportedIterableToArray(t,a){if(t){if(typeof t=="string")return _arrayLikeToArray(t,a);var c=Object.prototype.toString.call(t).slice(8,-1);return c==="Object"&&t.constructor&&(c=t.constructor.name),c==="Map"||c==="Set"?Array.from(t):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(t,a):void 0}}function _arrayLikeToArray(t,a){(a==null||a>t.length)&&(a=t.length);for(var c=0,n=new Array(a);c<a;c++)n[c]=t[c];return n}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function createCommonjsModule(t){var a={exports:{}};return t(a,a.exports),a.exports}var UZIP_1=createCommonjsModule(function(t){var a,c,n={};t.exports=n,n.parse=function(e,r){for(var s=n.bin.readUshort,i=n.bin.readUint,u=0,l={},m=new Uint8Array(e),h=m.length-4;i(m,h)!=101010256;)h--;u=h,u+=4;var d=s(m,u+=4);s(m,u+=2);var f=i(m,u+=2),v=i(m,u+=4);u+=4,u=v;for(var p=0;p<d;p++){i(m,u),u+=4,u+=4,u+=4,i(m,u+=4),f=i(m,u+=4);var g=i(m,u+=4),V=s(m,u+=4),I=s(m,u+2),w=s(m,u+4);u+=6;var y=i(m,u+=8);u+=4,u+=V+I+w,n._readLocal(m,y,l,f,g,r)}return l},n._readLocal=function(e,r,s,i,u,l){var m=n.bin.readUshort,h=n.bin.readUint;h(e,r),m(e,r+=4),m(e,r+=2);var d=m(e,r+=2);h(e,r+=2),h(e,r+=4),r+=4;var f=m(e,r+=8),v=m(e,r+=2);r+=2;var p=n.bin.readUTF8(e,r,f);if(r+=f,r+=v,l)s[p]={size:u,csize:i};else{var g=new Uint8Array(e.buffer,r);if(d==0)s[p]=new Uint8Array(g.buffer.slice(r,r+i));else{if(d!=8)throw"unknown compression method: "+d;var V=new Uint8Array(u);n.inflateRaw(g,V),s[p]=V}}},n.inflateRaw=function(e,r){return n.F.inflate(e,r)},n.inflate=function(e,r){return e[0],e[1],n.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},n.deflate=function(e,r){r==null&&(r={level:6});var s=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[s]=120,i[s+1]=156,s+=2,s=n.F.deflateRaw(e,i,s,r.level);var u=n.adler(e,0,e.length);return i[s+0]=u>>>24&255,i[s+1]=u>>>16&255,i[s+2]=u>>>8&255,i[s+3]=u>>>0&255,new Uint8Array(i.buffer,0,s+4)},n.deflateRaw=function(e,r){r==null&&(r={level:6});var s=new Uint8Array(50+Math.floor(1.1*e.length)),i=n.F.deflateRaw(e,s,i,r.level);return new Uint8Array(s.buffer,0,i)},n.encode=function(e,r){r==null&&(r=!1);var s=0,i=n.bin.writeUint,u=n.bin.writeUshort,l={};for(var m in e){var h=!n._noNeed(m)&&!r,d=e[m],f=n.crc.crc(d,0,d.length);l[m]={cpr:h,usize:d.length,crc:f,file:h?n.deflateRaw(d):d}}for(var m in l)s+=l[m].file.length+30+46+2*n.bin.sizeUTF8(m);s+=22;var v=new Uint8Array(s),p=0,g=[];for(var m in l){var V=l[m];g.push(p),p=n._writeHeader(v,p,m,V,0)}var I=0,w=p;for(var m in l)V=l[m],g.push(p),p=n._writeHeader(v,p,m,V,1,g[I++]);var y=p-w;return i(v,p,101010256),p+=4,u(v,p+=4,I),u(v,p+=2,I),i(v,p+=2,y),i(v,p+=4,w),p+=4,p+=2,v.buffer},n._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(r)!=-1},n._writeHeader=function(e,r,s,i,u,l){var m=n.bin.writeUint,h=n.bin.writeUshort,d=i.file;return m(e,r,u==0?67324752:33639248),r+=4,u==1&&(r+=2),h(e,r,20),h(e,r+=2,0),h(e,r+=2,i.cpr?8:0),m(e,r+=2,0),m(e,r+=4,i.crc),m(e,r+=4,d.length),m(e,r+=4,i.usize),h(e,r+=4,n.bin.sizeUTF8(s)),h(e,r+=2,0),r+=2,u==1&&(r+=2,r+=2,m(e,r+=6,l),r+=4),r+=n.bin.writeUTF8(e,r,s),u==0&&(e.set(d,r),r+=d.length),r},n.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var s=r,i=0;i<8;i++)1&s?s=3988292384^s>>>1:s>>>=1;e[r]=s}return e}(),update:function(e,r,s,i){for(var u=0;u<i;u++)e=n.crc.table[255&(e^r[s+u])]^e>>>8;return e},crc:function(e,r,s){return 4294967295^n.crc.update(4294967295,e,r,s)}},n.adler=function(e,r,s){for(var i=1,u=0,l=r,m=r+s;l<m;){for(var h=Math.min(l+5552,m);l<h;)u+=i+=e[l++];i%=65521,u%=65521}return u<<16|i},n.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,s){e[r]=255&s,e[r+1]=s>>8&255},readUint:function(e,r){return 16777216*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,s){e[r]=255&s,e[r+1]=s>>8&255,e[r+2]=s>>16&255,e[r+3]=s>>24&255},readASCII:function(e,r,s){for(var i="",u=0;u<s;u++)i+=String.fromCharCode(e[r+u]);return i},writeASCII:function(e,r,s){for(var i=0;i<s.length;i++)e[r+i]=s.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,s){for(var i,u="",l=0;l<s;l++)u+="%"+n.bin.pad(e[r+l].toString(16));try{i=decodeURIComponent(u)}catch{return n.bin.readASCII(e,r,s)}return i},writeUTF8:function(e,r,s){for(var i=s.length,u=0,l=0;l<i;l++){var m=s.charCodeAt(l);if((4294967168&m)==0)e[r+u]=m,u++;else if((4294965248&m)==0)e[r+u]=192|m>>6,e[r+u+1]=128|m>>0&63,u+=2;else if((4294901760&m)==0)e[r+u]=224|m>>12,e[r+u+1]=128|m>>6&63,e[r+u+2]=128|m>>0&63,u+=3;else{if((4292870144&m)!=0)throw"e";e[r+u]=240|m>>18,e[r+u+1]=128|m>>12&63,e[r+u+2]=128|m>>6&63,e[r+u+3]=128|m>>0&63,u+=4}}return u},sizeUTF8:function(e){for(var r=e.length,s=0,i=0;i<r;i++){var u=e.charCodeAt(i);if((4294967168&u)==0)s++;else if((4294965248&u)==0)s+=2;else if((4294901760&u)==0)s+=3;else{if((4292870144&u)!=0)throw"e";s+=4}}return s}},n.F={},n.F.deflateRaw=function(e,r,s,i){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],l=n.F.U,m=n.F._goodIndex;n.F._hash;var h=n.F._putsE,d=0,f=s<<3,v=0,p=e.length;if(i==0){for(;d<p;)h(r,f,d+(x=Math.min(65535,p-d))==p?1:0),f=n.F._copyExact(e,d,x,r,f+8),d+=x;return f>>>3}var g=l.lits,V=l.strt,I=l.prev,w=0,y=0,U=0,_=0,P=0,A=0;for(p>2&&(V[A=n.F._hash(e,0)]=0),d=0;d<p;d++){if(P=A,d+1<p-2){A=n.F._hash(e,d+1);var F=d+1&32767;I[F]=V[A],V[A]=F}if(v<=d){(w>14e3||y>26697)&&p-d>100&&(v<d&&(g[w]=d-v,w+=2,v=d),f=n.F._writeBlock(d==p-1||v==p?1:0,g,w,_,e,U,d-U,r,f),w=y=_=0,U=d);var b=0;d<p-2&&(b=n.F._bestMatch(e,d,I,P,Math.min(u[2],p-d),u[3]));var x=b>>>16,C=65535&b;if(b!=0){C=65535&b;var R=m(x=b>>>16,l.of0);l.lhst[257+R]++;var B=m(C,l.df0);l.dhst[B]++,_+=l.exb[R]+l.dxb[B],g[w]=x<<23|d-v,g[w+1]=C<<16|R<<8|B,w+=2,v=d+x}else l.lhst[e[d]]++;y++}}for(U==d&&e.length!=0||(v<d&&(g[w]=d-v,w+=2,v=d),f=n.F._writeBlock(1,g,w,_,e,U,d-U,r,f),w=0,y=0,w=y=_=0,U=d);(7&f)!=0;)f++;return f>>>3},n.F._bestMatch=function(e,r,s,i,u,l){var m=32767&r,h=s[m],d=m-h+32768&32767;if(h==m||i!=n.F._hash(e,r-d))return 0;for(var f=0,v=0,p=Math.min(32767,r);d<=p&&--l!=0&&h!=m;){if(f==0||e[r+f]==e[r+f-d]){var g=n.F._howLong(e,r,d);if(g>f){if(v=d,(f=g)>=u)break;d+2<g&&(g=d+2);for(var V=0,I=0;I<g-2;I++){var w=r-d+I+32768&32767,y=w-s[w]+32768&32767;y>V&&(V=y,h=w)}}}d+=(m=h)-(h=s[m])+32768&32767}return f<<16|v},n.F._howLong=function(e,r,s){if(e[r]!=e[r-s]||e[r+1]!=e[r+1-s]||e[r+2]!=e[r+2-s])return 0;var i=r,u=Math.min(e.length,r+258);for(r+=3;r<u&&e[r]==e[r-s];)r++;return r-i},n.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(e,r,s,i,u,l,m,h,d){var f,v,p,g,V,I,w,y,U,_=n.F.U,P=n.F._putsF,A=n.F._putsE;_.lhst[256]++,v=(f=n.F.getTrees())[0],p=f[1],g=f[2],V=f[3],I=f[4],w=f[5],y=f[6],U=f[7];var F=32+((d+3&7)==0?0:8-(d+3&7))+(m<<3),b=i+n.F.contSize(_.fltree,_.lhst)+n.F.contSize(_.fdtree,_.dhst),x=i+n.F.contSize(_.ltree,_.lhst)+n.F.contSize(_.dtree,_.dhst);x+=14+3*w+n.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var C=0;C<286;C++)_.lhst[C]=0;for(C=0;C<30;C++)_.dhst[C]=0;for(C=0;C<19;C++)_.ihst[C]=0;var R=F<b&&F<x?0:b<x?1:2;if(P(h,d,e),P(h,d+1,R),d+=3,R==0){for(;(7&d)!=0;)d++;d=n.F._copyExact(u,l,m,h,d)}else{var B,G;if(R==1&&(B=_.fltree,G=_.fdtree),R==2){n.F.makeCodes(_.ltree,v),n.F.revCodes(_.ltree,v),n.F.makeCodes(_.dtree,p),n.F.revCodes(_.dtree,p),n.F.makeCodes(_.itree,g),n.F.revCodes(_.itree,g),B=_.ltree,G=_.dtree,A(h,d,V-257),A(h,d+=5,I-1),A(h,d+=5,w-4),d+=4;for(var E=0;E<w;E++)A(h,d+3*E,_.itree[1+(_.ordr[E]<<1)]);d+=3*w,d=n.F._codeTiny(y,_.itree,h,d),d=n.F._codeTiny(U,_.itree,h,d)}for(var M=l,S=0;S<s;S+=2){for(var T=r[S],O=T>>>23,D=M+(8388607&T);M<D;)d=n.F._writeLit(u[M++],B,h,d);if(O!=0){var L=r[S+1],Z=L>>16,z=L>>8&255,j=255&L;A(h,d=n.F._writeLit(257+z,B,h,d),O-_.of0[z]),d+=_.exb[z],P(h,d=n.F._writeLit(j,G,h,d),Z-_.df0[j]),d+=_.dxb[j],M+=O}}d=n.F._writeLit(256,B,h,d)}return d},n.F._copyExact=function(e,r,s,i,u){var l=u>>>3;return i[l]=s,i[l+1]=s>>>8,i[l+2]=255-i[l],i[l+3]=255-i[l+1],l+=4,i.set(new Uint8Array(e.buffer,r,s),l),u+(s+4<<3)},n.F.getTrees=function(){for(var e=n.F.U,r=n.F._hufTree(e.lhst,e.ltree,15),s=n.F._hufTree(e.dhst,e.dtree,15),i=[],u=n.F._lenCodes(e.ltree,i),l=[],m=n.F._lenCodes(e.dtree,l),h=0;h<i.length;h+=2)e.ihst[i[h]]++;for(h=0;h<l.length;h+=2)e.ihst[l[h]]++;for(var d=n.F._hufTree(e.ihst,e.itree,7),f=19;f>4&&e.itree[1+(e.ordr[f-1]<<1)]==0;)f--;return[r,s,d,u,m,f,i,l]},n.F.getSecond=function(e){for(var r=[],s=0;s<e.length;s+=2)r.push(e[s+1]);return r},n.F.nonZero=function(e){for(var r="",s=0;s<e.length;s+=2)e[s+1]!=0&&(r+=(s>>1)+",");return r},n.F.contSize=function(e,r){for(var s=0,i=0;i<r.length;i++)s+=r[i]*e[1+(i<<1)];return s},n.F._codeTiny=function(e,r,s,i){for(var u=0;u<e.length;u+=2){var l=e[u],m=e[u+1];i=n.F._writeLit(l,r,s,i);var h=l==16?2:l==17?3:7;l>15&&(n.F._putsE(s,i,m,h),i+=h)}return i},n.F._lenCodes=function(e,r){for(var s=e.length;s!=2&&e[s-1]==0;)s-=2;for(var i=0;i<s;i+=2){var u=e[i+1],l=i+3<s?e[i+3]:-1,m=i+5<s?e[i+5]:-1,h=i==0?-1:e[i-1];if(u==0&&l==u&&m==u){for(var d=i+5;d+2<s&&e[d+2]==u;)d+=2;(f=Math.min(d+1-i>>>1,138))<11?r.push(17,f-3):r.push(18,f-11),i+=2*f-2}else if(u==h&&l==u&&m==u){for(d=i+5;d+2<s&&e[d+2]==u;)d+=2;var f=Math.min(d+1-i>>>1,6);r.push(16,f-3),i+=2*f-2}else r.push(u,0)}return s>>>1},n.F._hufTree=function(e,r,s){var i=[],u=e.length,l=r.length,m=0;for(m=0;m<l;m+=2)r[m]=0,r[m+1]=0;for(m=0;m<u;m++)e[m]!=0&&i.push({lit:m,f:e[m]});var h=i.length,d=i.slice(0);if(h==0)return 0;if(h==1){var f=i[0].lit;return d=f==0?1:0,r[1+(f<<1)]=1,r[1+(d<<1)]=1,1}i.sort(function(y,U){return y.f-U.f});var v=i[0],p=i[1],g=0,V=1,I=2;for(i[0]={lit:-1,f:v.f+p.f,l:v,r:p,d:0};V!=h-1;)v=g!=V&&(I==h||i[g].f<i[I].f)?i[g++]:i[I++],p=g!=V&&(I==h||i[g].f<i[I].f)?i[g++]:i[I++],i[V++]={lit:-1,f:v.f+p.f,l:v,r:p};var w=n.F.setDepth(i[V-1],0);for(w>s&&(n.F.restrictDepth(d,s,w),w=s),m=0;m<h;m++)r[1+(d[m].lit<<1)]=d[m].d;return w},n.F.setDepth=function(e,r){return e.lit!=-1?(e.d=r,r):Math.max(n.F.setDepth(e.l,r+1),n.F.setDepth(e.r,r+1))},n.F.restrictDepth=function(e,r,s){var i=0,u=1<<s-r,l=0;for(e.sort(function(h,d){return d.d==h.d?h.f-d.f:d.d-h.d}),i=0;i<e.length&&e[i].d>r;i++){var m=e[i].d;e[i].d=r,l+=u-(1<<s-m)}for(l>>>=s-r;l>0;)(m=e[i].d)<r?(e[i].d++,l-=1<<r-m-1):i++;for(;i>=0;i--)e[i].d==r&&l<0&&(e[i].d--,l++);l!=0&&console.log("debt left")},n.F._goodIndex=function(e,r){var s=0;return r[16|s]<=e&&(s|=16),r[8|s]<=e&&(s|=8),r[4|s]<=e&&(s|=4),r[2|s]<=e&&(s|=2),r[1|s]<=e&&(s|=1),s},n.F._writeLit=function(e,r,s,i){return n.F._putsF(s,i,r[e<<1]),i+r[1+(e<<1)]},n.F.inflate=function(e,r){var s=Uint8Array;if(e[0]==3&&e[1]==0)return r||new s(0);var i=n.F,u=i._bitsF,l=i._bitsE,m=i._decodeTiny,h=i.makeCodes,d=i.codes2map,f=i._get17,v=i.U,p=r==null;p&&(r=new s(e.length>>>2<<3));for(var g,V,I=0,w=0,y=0,U=0,_=0,P=0,A=0,F=0,b=0;I==0;)if(I=u(e,b,1),w=u(e,b+1,2),b+=3,w!=0){if(p&&(r=n.F._check(r,F+(1<<17))),w==1&&(g=v.flmap,V=v.fdmap,P=511,A=31),w==2){y=l(e,b,5)+257,U=l(e,b+5,5)+1,_=l(e,b+10,4)+4,b+=14;for(var x=0;x<38;x+=2)v.itree[x]=0,v.itree[x+1]=0;var C=1;for(x=0;x<_;x++){var R=l(e,b+3*x,3);v.itree[1+(v.ordr[x]<<1)]=R,R>C&&(C=R)}b+=3*_,h(v.itree,C),d(v.itree,C,v.imap),g=v.lmap,V=v.dmap,b=m(v.imap,(1<<C)-1,y+U,e,b,v.ttree);var B=i._copyOut(v.ttree,0,y,v.ltree);P=(1<<B)-1;var G=i._copyOut(v.ttree,y,U,v.dtree);A=(1<<G)-1,h(v.ltree,B),d(v.ltree,B,g),h(v.dtree,G),d(v.dtree,G,V)}for(;;){var E=g[f(e,b)&P];b+=15&E;var M=E>>>4;if(M>>>8==0)r[F++]=M;else{if(M==256)break;var S=F+M-254;if(M>264){var T=v.ldef[M-257];S=F+(T>>>3)+l(e,b,7&T),b+=7&T}var O=V[f(e,b)&A];b+=15&O;var D=O>>>4,L=v.ddef[D],Z=(L>>>4)+u(e,b,15&L);for(b+=15&L,p&&(r=n.F._check(r,F+(1<<17)));F<S;)r[F]=r[F++-Z],r[F]=r[F++-Z],r[F]=r[F++-Z],r[F]=r[F++-Z];F=S}}}else{(7&b)!=0&&(b+=8-(7&b));var z=4+(b>>>3),j=e[z-4]|e[z-3]<<8;p&&(r=n.F._check(r,F+j)),r.set(new s(e.buffer,e.byteOffset+z,j),F),b=z+j<<3,F+=j}return r.length==F?r:r.slice(0,F)},n.F._check=function(e,r){var s=e.length;if(r<=s)return e;var i=new Uint8Array(Math.max(s<<1,r));return i.set(e,0),i},n.F._decodeTiny=function(e,r,s,i,u,l){for(var m=n.F._bitsE,h=n.F._get17,d=0;d<s;){var f=e[h(i,u)&r];u+=15&f;var v=f>>>4;if(v<=15)l[d]=v,d++;else{var p=0,g=0;v==16?(g=3+m(i,u,2),u+=2,p=l[d-1]):v==17?(g=3+m(i,u,3),u+=3):v==18&&(g=11+m(i,u,7),u+=7);for(var V=d+g;d<V;)l[d]=p,d++}}return u},n.F._copyOut=function(e,r,s,i){for(var u=0,l=0,m=i.length>>>1;l<s;){var h=e[l+r];i[l<<1]=0,i[1+(l<<1)]=h,h>u&&(u=h),l++}for(;l<m;)i[l<<1]=0,i[1+(l<<1)]=0,l++;return u},n.F.makeCodes=function(e,r){for(var s,i,u,l,m=n.F.U,h=e.length,d=m.bl_count,f=0;f<=r;f++)d[f]=0;for(f=1;f<h;f+=2)d[e[f]]++;var v=m.next_code;for(s=0,d[0]=0,i=1;i<=r;i++)s=s+d[i-1]<<1,v[i]=s;for(u=0;u<h;u+=2)(l=e[u+1])!=0&&(e[u]=v[l],v[l]++)},n.F.codes2map=function(e,r,s){for(var i=e.length,u=n.F.U.rev15,l=0;l<i;l+=2)if(e[l+1]!=0)for(var m=l>>1,h=e[l+1],d=m<<4|h,f=r-h,v=e[l]<<f,p=v+(1<<f);v!=p;)s[u[v]>>>15-r]=d,v++},n.F.revCodes=function(e,r){for(var s=n.F.U.rev15,i=15-r,u=0;u<e.length;u+=2){var l=e[u]<<r-e[u+1];e[u]=s[l]>>>i}},n.F._putsE=function(e,r,s){s<<=7&r;var i=r>>>3;e[i]|=s,e[i+1]|=s>>>8},n.F._putsF=function(e,r,s){s<<=7&r;var i=r>>>3;e[i]|=s,e[i+1]|=s>>>8,e[i+2]|=s>>>16},n.F._bitsE=function(e,r,s){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<s)-1},n.F._bitsF=function(e,r,s){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<s)-1},n.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},n.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},n.F.U=(a=Uint16Array,c=Uint32Array,{next_code:new a(16),bl_count:new a(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new a(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new c(32),flmap:new a(512),fltree:[],fdmap:new a(32),fdtree:[],lmap:new a(32768),ltree:[],ttree:[],dmap:new a(32768),dtree:[],imap:new a(512),itree:[],rev15:new a(32768),lhst:new c(286),dhst:new c(30),ihst:new c(19),lits:new c(15e3),strt:new a(65536),prev:new a(32768)}),function(){for(var e=n.F.U,r=0;r<32768;r++){var s=r;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,e.rev15[r]=(s>>>16|s<<16)>>>17}function i(u,l,m){for(;l--!=0;)u.push(0,m)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),n.F.makeCodes(e.fltree,9),n.F.codes2map(e.fltree,9,e.flmap),n.F.revCodes(e.fltree,9),i(e.fdtree,32,5),n.F.makeCodes(e.fdtree,5),n.F.codes2map(e.fdtree,5,e.fdmap),n.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(t){var a=t.width,c=t.height;if(t.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(t.data,a,c,t).buffer];var n=[];t.frames[0].data==null&&(t.frames[0].data=t.data);for(var e=a*c*4,r=new Uint8Array(e),s=new Uint8Array(e),i=new Uint8Array(e),u=0;u<t.frames.length;u++){var l=t.frames[u],m=l.rect.x,h=l.rect.y,d=l.rect.width,f=l.rect.height,v=UPNG.toRGBA8.decodeImage(l.data,d,f,t);if(u!=0)for(var p=0;p<e;p++)i[p]=r[p];if(l.blend==0?UPNG._copyTile(v,d,f,r,a,c,m,h,0):l.blend==1&&UPNG._copyTile(v,d,f,r,a,c,m,h,1),n.push(r.buffer.slice(0)),l.dispose!=0){if(l.dispose==1)UPNG._copyTile(s,d,f,r,a,c,m,h,0);else if(l.dispose==2)for(p=0;p<e;p++)r[p]=i[p]}}return n},UPNG.toRGBA8.decodeImage=function(t,a,c,n){var e=a*c,r=UPNG.decode._getBPP(n),s=Math.ceil(a*r/8),i=new Uint8Array(4*e),u=new Uint32Array(i.buffer),l=n.ctype,m=n.depth,h=UPNG._bin.readUshort;if(l==6){var d=e<<2;if(m==8)for(var f=0;f<d;f+=4)i[f]=t[f],i[f+1]=t[f+1],i[f+2]=t[f+2],i[f+3]=t[f+3];if(m==16)for(f=0;f<d;f++)i[f]=t[f<<1]}else if(l==2){var v=n.tabs.tRNS;if(v==null){if(m==8)for(f=0;f<e;f++){var p=3*f;u[f]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p]}if(m==16)for(f=0;f<e;f++)p=6*f,u[f]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p]}else{var g=v[0],V=v[1],I=v[2];if(m==8)for(f=0;f<e;f++){var w=f<<2;p=3*f,u[f]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p],t[p]==g&&t[p+1]==V&&t[p+2]==I&&(i[w+3]=0)}if(m==16)for(f=0;f<e;f++)w=f<<2,p=6*f,u[f]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p],h(t,p)==g&&h(t,p+2)==V&&h(t,p+4)==I&&(i[w+3]=0)}}else if(l==3){var y=n.tabs.PLTE,U=n.tabs.tRNS,_=U?U.length:0;if(m==1)for(var P=0;P<c;P++){var A=P*s,F=P*a;for(f=0;f<a;f++){w=F+f<<2;var b=3*(x=t[A+(f>>3)]>>7-((7&f)<<0)&1);i[w]=y[b],i[w+1]=y[b+1],i[w+2]=y[b+2],i[w+3]=x<_?U[x]:255}}if(m==2)for(P=0;P<c;P++)for(A=P*s,F=P*a,f=0;f<a;f++)w=F+f<<2,b=3*(x=t[A+(f>>2)]>>6-((3&f)<<1)&3),i[w]=y[b],i[w+1]=y[b+1],i[w+2]=y[b+2],i[w+3]=x<_?U[x]:255;if(m==4)for(P=0;P<c;P++)for(A=P*s,F=P*a,f=0;f<a;f++)w=F+f<<2,b=3*(x=t[A+(f>>1)]>>4-((1&f)<<2)&15),i[w]=y[b],i[w+1]=y[b+1],i[w+2]=y[b+2],i[w+3]=x<_?U[x]:255;if(m==8)for(f=0;f<e;f++){var x;w=f<<2,b=3*(x=t[f]),i[w]=y[b],i[w+1]=y[b+1],i[w+2]=y[b+2],i[w+3]=x<_?U[x]:255}}else if(l==4){if(m==8)for(f=0;f<e;f++){w=f<<2;var C=t[R=f<<1];i[w]=C,i[w+1]=C,i[w+2]=C,i[w+3]=t[R+1]}if(m==16)for(f=0;f<e;f++){var R;w=f<<2,C=t[R=f<<2],i[w]=C,i[w+1]=C,i[w+2]=C,i[w+3]=t[R+2]}}else if(l==0)for(g=n.tabs.tRNS?n.tabs.tRNS:-1,P=0;P<c;P++){var B=P*s,G=P*a;if(m==1)for(var E=0;E<a;E++){var M=(C=255*(t[B+(E>>>3)]>>>7-(7&E)&1))==255*g?0:255;u[G+E]=M<<24|C<<16|C<<8|C}else if(m==2)for(E=0;E<a;E++)M=(C=85*(t[B+(E>>>2)]>>>6-((3&E)<<1)&3))==85*g?0:255,u[G+E]=M<<24|C<<16|C<<8|C;else if(m==4)for(E=0;E<a;E++)M=(C=17*(t[B+(E>>>1)]>>>4-((1&E)<<2)&15))==17*g?0:255,u[G+E]=M<<24|C<<16|C<<8|C;else if(m==8)for(E=0;E<a;E++)M=(C=t[B+E])==g?0:255,u[G+E]=M<<24|C<<16|C<<8|C;else if(m==16)for(E=0;E<a;E++)C=t[B+(E<<1)],M=h(t,B+(E<<f))==g?0:255,u[G+E]=M<<24|C<<16|C<<8|C}return i},UPNG.decode=function(t){for(var a,c=new Uint8Array(t),n=8,e=UPNG._bin,r=e.readUshort,s=e.readUint,i={tabs:{},frames:[]},u=new Uint8Array(c.length),l=0,m=0,h=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(c[d]!=h[d])throw"The input is not a PNG file!";for(;n<c.length;){var f=e.readUint(c,n);n+=4;var v=e.readASCII(c,n,4);if(n+=4,v=="IHDR")UPNG.decode._IHDR(c,n,i);else if(v=="CgBI")i.tabs[v]=c.slice(n,n+4);else if(v=="IDAT"){for(d=0;d<f;d++)u[l+d]=c[n+d];l+=f}else if(v=="acTL")i.tabs[v]={num_frames:s(c,n),num_plays:s(c,n+4)},a=new Uint8Array(c.length);else if(v=="fcTL"){var p;m!=0&&((p=i.frames[i.frames.length-1]).data=UPNG.decode._decompress(i,a.slice(0,m),p.rect.width,p.rect.height),m=0);var g={x:s(c,n+12),y:s(c,n+16),width:s(c,n+4),height:s(c,n+8)},V=r(c,n+22);V=r(c,n+20)/(V==0?100:V);var I={rect:g,delay:Math.round(1e3*V),dispose:c[n+24],blend:c[n+25]};i.frames.push(I)}else if(v=="fdAT"){for(d=0;d<f-4;d++)a[m+d]=c[n+d+4];m+=f-4}else if(v=="pHYs")i.tabs[v]=[e.readUint(c,n),e.readUint(c,n+4),c[n+8]];else if(v=="cHRM")for(i.tabs[v]=[],d=0;d<8;d++)i.tabs[v].push(e.readUint(c,n+4*d));else if(v=="tEXt"||v=="zTXt"){i.tabs[v]==null&&(i.tabs[v]={});var w=e.nextZero(c,n),y=e.readASCII(c,n,w-n),U=n+f-w-1;if(v=="tEXt")A=e.readASCII(c,w+1,U);else{var _=UPNG.decode._inflate(c.slice(w+2,w+2+U));A=e.readUTF8(_,0,_.length)}i.tabs[v][y]=A}else if(v=="iTXt"){i.tabs[v]==null&&(i.tabs[v]={}),w=0;var P=n;w=e.nextZero(c,P),y=e.readASCII(c,P,w-P);var A,F=c[P=w+1];c[P+1],P+=2,w=e.nextZero(c,P),e.readASCII(c,P,w-P),P=w+1,w=e.nextZero(c,P),e.readUTF8(c,P,w-P),U=f-((P=w+1)-n),F==0?A=e.readUTF8(c,P,U):(_=UPNG.decode._inflate(c.slice(P,P+U)),A=e.readUTF8(_,0,_.length)),i.tabs[v][y]=A}else if(v=="PLTE")i.tabs[v]=e.readBytes(c,n,f);else if(v=="hIST"){var b=i.tabs.PLTE.length/3;for(i.tabs[v]=[],d=0;d<b;d++)i.tabs[v].push(r(c,n+2*d))}else if(v=="tRNS")i.ctype==3?i.tabs[v]=e.readBytes(c,n,f):i.ctype==0?i.tabs[v]=r(c,n):i.ctype==2&&(i.tabs[v]=[r(c,n),r(c,n+2),r(c,n+4)]);else if(v=="gAMA")i.tabs[v]=e.readUint(c,n)/1e5;else if(v=="sRGB")i.tabs[v]=c[n];else if(v=="bKGD")i.ctype==0||i.ctype==4?i.tabs[v]=[r(c,n)]:i.ctype==2||i.ctype==6?i.tabs[v]=[r(c,n),r(c,n+2),r(c,n+4)]:i.ctype==3&&(i.tabs[v]=c[n]);else if(v=="IEND")break;n+=f,e.readUint(c,n),n+=4}return m!=0&&((p=i.frames[i.frames.length-1]).data=UPNG.decode._decompress(i,a.slice(0,m),p.rect.width,p.rect.height),m=0),i.data=UPNG.decode._decompress(i,u,i.width,i.height),delete i.compress,delete i.interlace,delete i.filter,i},UPNG.decode._decompress=function(t,a,c,n){var e=UPNG.decode._getBPP(t),r=Math.ceil(c*e/8),s=new Uint8Array((r+1+t.interlace)*n);return a=t.tabs.CgBI?UPNG.inflateRaw(a,s):UPNG.decode._inflate(a,s),t.interlace==0?a=UPNG.decode._filterZero(a,t,0,c,n):t.interlace==1&&(a=UPNG.decode._readInterlace(a,t)),a},UPNG.decode._inflate=function(t,a){return UPNG.inflateRaw(new Uint8Array(t.buffer,2,t.length-6),a)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(t,a){var c,n,e=Uint8Array,r=0,s=0,i=0,u=0,l=0,m=0,h=0,d=0,f=0;if(t[0]==3&&t[1]==0)return a||new e(0);var v=H.H,p=v.b,g=v.e,V=v.R,I=v.n,w=v.A,y=v.Z,U=v.m,_=a==null;for(_&&(a=new e(t.length>>>2<<5));r==0;)if(r=p(t,f,1),s=p(t,f+1,2),f+=3,s!=0){if(_&&(a=H.H.W(a,d+(1<<17))),s==1&&(c=U.J,n=U.h,m=511,h=31),s==2){i=g(t,f,5)+257,u=g(t,f+5,5)+1,l=g(t,f+10,4)+4,f+=14;for(var P=1,A=0;A<38;A+=2)U.Q[A]=0,U.Q[A+1]=0;for(A=0;A<l;A++){var F=g(t,f+3*A,3);U.Q[1+(U.X[A]<<1)]=F,F>P&&(P=F)}f+=3*l,I(U.Q,P),w(U.Q,P,U.u),c=U.w,n=U.d,f=V(U.u,(1<<P)-1,i+u,t,f,U.v);var b=v.V(U.v,0,i,U.C);m=(1<<b)-1;var x=v.V(U.v,i,u,U.D);h=(1<<x)-1,I(U.C,b),w(U.C,b,c),I(U.D,x),w(U.D,x,n)}for(;;){var C=c[y(t,f)&m];f+=15&C;var R=C>>>4;if(R>>>8==0)a[d++]=R;else{if(R==256)break;var B=d+R-254;if(R>264){var G=U.q[R-257];B=d+(G>>>3)+g(t,f,7&G),f+=7&G}var E=n[y(t,f)&h];f+=15&E;var M=E>>>4,S=U.c[M],T=(S>>>4)+p(t,f,15&S);for(f+=15&S;d<B;)a[d]=a[d++-T],a[d]=a[d++-T],a[d]=a[d++-T],a[d]=a[d++-T];d=B}}}else{(7&f)!=0&&(f+=8-(7&f));var O=4+(f>>>3),D=t[O-4]|t[O-3]<<8;_&&(a=H.H.W(a,d+D)),a.set(new e(t.buffer,t.byteOffset+O,D),d),f=O+D<<3,d+=D}return a.length==d?a:a.slice(0,d)},H.H.W=function(t,a){var c=t.length;if(a<=c)return t;var n=new Uint8Array(c<<1);return n.set(t,0),n},H.H.R=function(t,a,c,n,e,r){for(var s=H.H.e,i=H.H.Z,u=0;u<c;){var l=t[i(n,e)&a];e+=15&l;var m=l>>>4;if(m<=15)r[u]=m,u++;else{var h=0,d=0;m==16?(d=3+s(n,e,2),e+=2,h=r[u-1]):m==17?(d=3+s(n,e,3),e+=3):m==18&&(d=11+s(n,e,7),e+=7);for(var f=u+d;u<f;)r[u]=h,u++}}return e},H.H.V=function(t,a,c,n){for(var e=0,r=0,s=n.length>>>1;r<c;){var i=t[r+a];n[r<<1]=0,n[1+(r<<1)]=i,i>e&&(e=i),r++}for(;r<s;)n[r<<1]=0,n[1+(r<<1)]=0,r++;return e},H.H.n=function(t,a){for(var c,n,e,r,s=H.H.m,i=t.length,u=s.j,l=0;l<=a;l++)u[l]=0;for(l=1;l<i;l+=2)u[t[l]]++;var m=s.K;for(c=0,u[0]=0,n=1;n<=a;n++)c=c+u[n-1]<<1,m[n]=c;for(e=0;e<i;e+=2)(r=t[e+1])!=0&&(t[e]=m[r],m[r]++)},H.H.A=function(t,a,c){for(var n=t.length,e=H.H.m.r,r=0;r<n;r+=2)if(t[r+1]!=0)for(var s=r>>1,i=t[r+1],u=s<<4|i,l=a-i,m=t[r]<<l,h=m+(1<<l);m!=h;)c[e[m]>>>15-a]=u,m++},H.H.l=function(t,a){for(var c=H.H.m.r,n=15-a,e=0;e<t.length;e+=2){var r=t[e]<<a-t[e+1];t[e]=c[r]>>>n}},H.H.M=function(t,a,c){c<<=7&a;var n=a>>>3;t[n]|=c,t[n+1]|=c>>>8},H.H.I=function(t,a,c){c<<=7&a;var n=a>>>3;t[n]|=c,t[n+1]|=c>>>8,t[n+2]|=c>>>16},H.H.e=function(t,a,c){return(t[a>>>3]|t[1+(a>>>3)]<<8)>>>(7&a)&(1<<c)-1},H.H.b=function(t,a,c){return(t[a>>>3]|t[1+(a>>>3)]<<8|t[2+(a>>>3)]<<16)>>>(7&a)&(1<<c)-1},H.H.Z=function(t,a){return(t[a>>>3]|t[1+(a>>>3)]<<8|t[2+(a>>>3)]<<16)>>>(7&a)},H.H.i=function(t,a){return(t[a>>>3]|t[1+(a>>>3)]<<8|t[2+(a>>>3)]<<16|t[3+(a>>>3)]<<24)>>>(7&a)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var t=H.H.m,a=0;a<32768;a++){var c=a;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,t.r[a]=(c>>>16|c<<16)>>>17}function n(e,r,s){for(;r--!=0;)e.push(0,s)}for(a=0;a<32;a++)t.q[a]=t.S[a]<<3|t.T[a],t.c[a]=t.p[a]<<4|t.z[a];n(t._,144,8),n(t._,112,9),n(t._,24,7),n(t._,8,8),H.H.n(t._,9),H.H.A(t._,9,t.J),H.H.l(t._,9),n(t.$,32,5),H.H.n(t.$,5),H.H.A(t.$,5,t.h),H.H.l(t.$,5),n(t.Q,19,0),n(t.C,286,0),n(t.D,30,0),n(t.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(t,a){for(var c=a.width,n=a.height,e=UPNG.decode._getBPP(a),r=e>>3,s=Math.ceil(c*e/8),i=new Uint8Array(n*s),u=0,l=[0,0,4,0,2,0,1],m=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],f=0;f<7;){for(var v=h[f],p=d[f],g=0,V=0,I=l[f];I<n;)I+=v,V++;for(var w=m[f];w<c;)w+=p,g++;var y=Math.ceil(g*e/8);UPNG.decode._filterZero(t,a,u,g,V);for(var U=0,_=l[f];_<n;){for(var P=m[f],A=u+U*y<<3;P<c;){var F;if(e==1&&(F=(F=t[A>>3])>>7-(7&A)&1,i[_*s+(P>>3)]|=F<<7-((7&P)<<0)),e==2&&(F=(F=t[A>>3])>>6-(7&A)&3,i[_*s+(P>>2)]|=F<<6-((3&P)<<1)),e==4&&(F=(F=t[A>>3])>>4-(7&A)&15,i[_*s+(P>>1)]|=F<<4-((1&P)<<2)),e>=8)for(var b=_*s+P*r,x=0;x<r;x++)i[b+x]=t[(A>>3)+x];A+=e,P+=p}U++,_+=v}g*V!=0&&(u+=V*(1+y)),f+=1}return i},UPNG.decode._getBPP=function(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth},UPNG.decode._filterZero=function(t,a,c,n,e){var r=UPNG.decode._getBPP(a),s=Math.ceil(n*r/8),i=UPNG.decode._paeth;r=Math.ceil(r/8);var u=0,l=1,m=t[c],h=0;if(m>1&&(t[c]=[0,0,1][m-2]),m==3)for(h=r;h<s;h++)t[h+1]=t[h+1]+(t[h+1-r]>>>1)&255;for(var d=0;d<e;d++)if(h=0,(m=t[(l=(u=c+d*s)+d+1)-1])==0)for(;h<s;h++)t[u+h]=t[l+h];else if(m==1){for(;h<r;h++)t[u+h]=t[l+h];for(;h<s;h++)t[u+h]=t[l+h]+t[u+h-r]}else if(m==2)for(;h<s;h++)t[u+h]=t[l+h]+t[u+h-s];else if(m==3){for(;h<r;h++)t[u+h]=t[l+h]+(t[u+h-s]>>>1);for(;h<s;h++)t[u+h]=t[l+h]+(t[u+h-s]+t[u+h-r]>>>1)}else{for(;h<r;h++)t[u+h]=t[l+h]+i(0,t[u+h-s],0);for(;h<s;h++)t[u+h]=t[l+h]+i(t[u+h-r],t[u+h-s],t[u+h-r-s])}return t},UPNG.decode._paeth=function(t,a,c){var n=t+a-c,e=n-t,r=n-a,s=n-c;return e*e<=r*r&&e*e<=s*s?t:r*r<=s*s?a:c},UPNG.decode._IHDR=function(t,a,c){var n=UPNG._bin;c.width=n.readUint(t,a),a+=4,c.height=n.readUint(t,a),a+=4,c.depth=t[a],a++,c.ctype=t[a],a++,c.compress=t[a],a++,c.filter=t[a],a++,c.interlace=t[a],a++},UPNG._bin={nextZero:function(a,c){for(;a[c]!=0;)c++;return c},readUshort:function(a,c){return a[c]<<8|a[c+1]},writeUshort:function(a,c,n){a[c]=n>>8&255,a[c+1]=255&n},readUint:function(a,c){return 16777216*a[c]+(a[c+1]<<16|a[c+2]<<8|a[c+3])},writeUint:function(a,c,n){a[c]=n>>24&255,a[c+1]=n>>16&255,a[c+2]=n>>8&255,a[c+3]=255&n},readASCII:function(a,c,n){for(var e="",r=0;r<n;r++)e+=String.fromCharCode(a[c+r]);return e},writeASCII:function(a,c,n){for(var e=0;e<n.length;e++)a[c+e]=n.charCodeAt(e)},readBytes:function(a,c,n){for(var e=[],r=0;r<n;r++)e.push(a[c+r]);return e},pad:function(a){return a.length<2?"0".concat(a):a},readUTF8:function(a,c,n){for(var e,r="",s=0;s<n;s++)r+="%".concat(UPNG._bin.pad(a[c+s].toString(16)));try{e=decodeURIComponent(r)}catch{return UPNG._bin.readASCII(a,c,n)}return e}},UPNG._copyTile=function(t,a,c,n,e,r,s,i,u){for(var l=Math.min(a,e),m=Math.min(c,r),h=0,d=0,f=0;f<m;f++)for(var v=0;v<l;v++)if(s>=0&&i>=0?(h=f*a+v<<2,d=(i+f)*e+s+v<<2):(h=(-i+f)*a-s+v<<2,d=f*e+v<<2),u==0)n[d]=t[h],n[d+1]=t[h+1],n[d+2]=t[h+2],n[d+3]=t[h+3];else if(u==1){var p=t[h+3]*.00392156862745098,g=t[h]*p,V=t[h+1]*p,I=t[h+2]*p,w=n[d+3]*(1/255),y=n[d]*w,U=n[d+1]*w,_=n[d+2]*w,P=1-p,A=p+w*P,F=A==0?0:1/A;n[d+3]=255*A,n[d+0]=(g+y*P)*F,n[d+1]=(V+U*P)*F,n[d+2]=(I+_*P)*F}else if(u==2)p=t[h+3],g=t[h],V=t[h+1],I=t[h+2],w=n[d+3],y=n[d],U=n[d+1],_=n[d+2],p==w&&g==y&&V==U&&I==_?(n[d]=0,n[d+1]=0,n[d+2]=0,n[d+3]=0):(n[d]=g,n[d+1]=V,n[d+2]=I,n[d+3]=p);else if(u==3){if(p=t[h+3],g=t[h],V=t[h+1],I=t[h+2],w=n[d+3],y=n[d],U=n[d+1],_=n[d+2],p==w&&g==y&&V==U&&I==_)continue;if(p<220&&w>20)return!1}return!0},UPNG.encode=function(t,a,c,n,e,r,s){n==null&&(n=0),s==null&&(s=!1);var i=UPNG.encode.compress(t,a,c,n,[!1,!1,!1,0,s]);return UPNG.encode.compressPNG(i,-1),UPNG.encode._main(i,a,c,e,r)},UPNG.encodeLL=function(t,a,c,n,e,r,s,i){for(var u={ctype:0+(n==1?0:2)+(e==0?0:4),depth:r,frames:[]},l=(n+e)*r,m=l*a,h=0;h<t.length;h++)u.frames.push({rect:{x:0,y:0,width:a,height:c},img:new Uint8Array(t[h]),blend:0,dispose:1,bpp:Math.ceil(l/8),bpl:Math.ceil(m/8)});return UPNG.encode.compressPNG(u,0,!0),UPNG.encode._main(u,a,c,s,i)},UPNG.encode._main=function(t,a,c,n,e){e==null&&(e={});var r=UPNG.crc.crc,s=UPNG._bin.writeUint,i=UPNG._bin.writeUshort,u=UPNG._bin.writeASCII,l=8,m=t.frames.length>1,h=!1,d=33+(m?20:0);if(e.sRGB!=null&&(d+=13),e.pHYs!=null&&(d+=21),t.ctype==3){for(var f=t.plte.length,v=0;v<f;v++)t.plte[v]>>>24!=255&&(h=!0);d+=8+3*f+4+(h?8+1*f+4:0)}for(var p=0;p<t.frames.length;p++)m&&(d+=38),d+=(A=t.frames[p]).cimg.length+12,p!=0&&(d+=4);d+=12;var g=new Uint8Array(d),V=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)g[v]=V[v];if(s(g,l,13),u(g,l+=4,"IHDR"),s(g,l+=4,a),s(g,l+=4,c),g[l+=4]=t.depth,g[++l]=t.ctype,g[++l]=0,g[++l]=0,g[++l]=0,s(g,++l,r(g,l-17,17)),l+=4,e.sRGB!=null&&(s(g,l,1),u(g,l+=4,"sRGB"),g[l+=4]=e.sRGB,s(g,++l,r(g,l-5,5)),l+=4),e.pHYs!=null&&(s(g,l,9),u(g,l+=4,"pHYs"),s(g,l+=4,e.pHYs[0]),s(g,l+=4,e.pHYs[1]),g[l+=4]=e.pHYs[2],s(g,++l,r(g,l-13,13)),l+=4),m&&(s(g,l,8),u(g,l+=4,"acTL"),s(g,l+=4,t.frames.length),s(g,l+=4,e.loop!=null?e.loop:0),s(g,l+=4,r(g,l-12,12)),l+=4),t.ctype==3){for(s(g,l,3*(f=t.plte.length)),u(g,l+=4,"PLTE"),l+=4,v=0;v<f;v++){var I=3*v,w=t.plte[v],y=255&w,U=w>>>8&255,_=w>>>16&255;g[l+I+0]=y,g[l+I+1]=U,g[l+I+2]=_}if(s(g,l+=3*f,r(g,l-3*f-4,3*f+4)),l+=4,h){for(s(g,l,f),u(g,l+=4,"tRNS"),l+=4,v=0;v<f;v++)g[l+v]=t.plte[v]>>>24&255;s(g,l+=f,r(g,l-f-4,f+4)),l+=4}}var P=0;for(p=0;p<t.frames.length;p++){var A=t.frames[p];m&&(s(g,l,26),u(g,l+=4,"fcTL"),s(g,l+=4,P++),s(g,l+=4,A.rect.width),s(g,l+=4,A.rect.height),s(g,l+=4,A.rect.x),s(g,l+=4,A.rect.y),i(g,l+=4,n[p]),i(g,l+=2,1e3),g[l+=2]=A.dispose,g[++l]=A.blend,s(g,++l,r(g,l-30,30)),l+=4);var F=A.cimg;s(g,l,(f=F.length)+(p==0?0:4));var b=l+=4;u(g,l,p==0?"IDAT":"fdAT"),l+=4,p!=0&&(s(g,l,P++),l+=4),g.set(F,l),s(g,l+=f,r(g,b,l-b)),l+=4}return s(g,l,0),u(g,l+=4,"IEND"),s(g,l+=4,r(g,l-4,4)),l+=4,g.buffer},UPNG.encode.compressPNG=function(t,a,c){for(var n=0;n<t.frames.length;n++){var e=t.frames[n];e.rect.width;var r=e.rect.height,s=new Uint8Array(r*e.bpl+r);e.cimg=UPNG.encode._filterZero(e.img,r,e.bpp,e.bpl,s,a,c)}},UPNG.encode.compress=function(t,a,c,n,e){for(var r=e[0],s=e[1],i=e[2],u=e[3],l=e[4],m=6,h=8,d=255,f=0;f<t.length;f++)for(var v=new Uint8Array(t[f]),p=v.length,g=0;g<p;g+=4)d&=v[g+3];var V=d!=255,I=UPNG.encode.framize(t,a,c,r,s,i),w={},y=[],U=[];if(n!=0){var _=[];for(g=0;g<I.length;g++)_.push(I[g].img.buffer);var P=UPNG.encode.concatRGBA(_),A=UPNG.quantize(P,n),F=0,b=new Uint8Array(A.abuf);for(g=0;g<I.length;g++){var x=(q=I[g].img).length;for(U.push(new Uint8Array(A.inds.buffer,F>>2,x>>2)),f=0;f<x;f+=4)q[f]=b[F+f],q[f+1]=b[F+f+1],q[f+2]=b[F+f+2],q[f+3]=b[F+f+3];F+=x}for(g=0;g<A.plte.length;g++)y.push(A.plte[g].est.rgba)}else for(f=0;f<I.length;f++){var C=I[f],R=new Uint32Array(C.img.buffer),B=C.rect.width,G=(p=R.length,new Uint8Array(p));for(U.push(G),g=0;g<p;g++){var E=R[g];if(g!=0&&E==R[g-1])G[g]=G[g-1];else if(g>B&&E==R[g-B])G[g]=G[g-B];else{var M=w[E];if(M==null&&(w[E]=M=y.length,y.push(E),y.length>=300))break;G[g]=M}}}var S=y.length;for(S<=256&&l==0&&(h=S<=2?1:S<=4?2:S<=16?4:8,h=Math.max(h,u)),f=0;f<I.length;f++){(C=I[f]).rect.x,C.rect.y,B=C.rect.width;var T=C.rect.height,O=C.img;new Uint32Array(O.buffer);var D=4*B,L=4;if(S<=256&&l==0){D=Math.ceil(h*B/8);for(var Z=new Uint8Array(D*T),z=U[f],j=0;j<T;j++){g=j*D;var $=j*B;if(h==8)for(var k=0;k<B;k++)Z[g+k]=z[$+k];else if(h==4)for(k=0;k<B;k++)Z[g+(k>>1)]|=z[$+k]<<4-4*(1&k);else if(h==2)for(k=0;k<B;k++)Z[g+(k>>2)]|=z[$+k]<<6-2*(3&k);else if(h==1)for(k=0;k<B;k++)Z[g+(k>>3)]|=z[$+k]<<7-1*(7&k)}O=Z,m=3,L=1}else if(V==0&&I.length==1){Z=new Uint8Array(B*T*3);var X=B*T;for(g=0;g<X;g++){var q,Q=4*g;Z[q=3*g]=O[Q],Z[q+1]=O[Q+1],Z[q+2]=O[Q+2]}O=Z,m=2,L=3,D=3*B}C.img=O,C.bpl=D,C.bpp=L}return{ctype:m,depth:h,plte:y,frames:I}},UPNG.encode.framize=function(t,a,c,n,e,r){for(var s=[],i=0;i<t.length;i++){var u,l=new Uint8Array(t[i]),m=new Uint32Array(l.buffer),h=0,d=0,f=a,v=c,p=n?1:0;if(i!=0){for(var g=r||n||i==1||s[i-2].dispose!=0?1:2,V=0,I=1e9,w=0;w<g;w++){for(var y=new Uint8Array(t[i-1-w]),U=new Uint32Array(t[i-1-w]),_=a,P=c,A=-1,F=-1,b=0;b<c;b++)for(var x=0;x<a;x++)m[S=b*a+x]!=U[S]&&(x<_&&(_=x),x>A&&(A=x),b<P&&(P=b),b>F&&(F=b));A==-1&&(_=P=A=F=0),e&&((1&_)==1&&_--,(1&P)==1&&P--);var C=(A-_+1)*(F-P+1);C<I&&(I=C,V=w,h=_,d=P,f=A-_+1,v=F-P+1)}y=new Uint8Array(t[i-1-V]),V==1&&(s[i-1].dispose=2),u=new Uint8Array(f*v*4),UPNG._copyTile(y,a,c,u,f,v,-h,-d,0),(p=UPNG._copyTile(l,a,c,u,f,v,-h,-d,3)?1:0)==1?UPNG.encode._prepareDiff(l,a,c,u,{x:h,y:d,width:f,height:v}):UPNG._copyTile(l,a,c,u,f,v,-h,-d,0)}else u=l.slice(0);s.push({rect:{x:h,y:d,width:f,height:v},img:u,blend:p,dispose:0})}if(n){for(i=0;i<s.length;i++)if((T=s[i]).blend!=1){var R=T.rect,B=s[i-1].rect,G=Math.min(R.x,B.x),E=Math.min(R.y,B.y),M={x:G,y:E,width:Math.max(R.x+R.width,B.x+B.width)-G,height:Math.max(R.y+R.height,B.y+B.height)-E};s[i-1].dispose=1,i-1!=0&&UPNG.encode._updateFrame(t,a,c,s,i-1,M,e),UPNG.encode._updateFrame(t,a,c,s,i,M,e)}}if(t.length!=1)for(var S=0;S<s.length;S++){var T;(T=s[S]).rect.width*T.rect.height}return s},UPNG.encode._updateFrame=function(t,a,c,n,e,r,s){for(var i=Uint8Array,u=Uint32Array,l=new i(t[e-1]),m=new u(t[e-1]),h=e+1<t.length?new i(t[e+1]):null,d=new i(t[e]),f=new u(d.buffer),v=a,p=c,g=-1,V=-1,I=0;I<r.height;I++)for(var w=0;w<r.width;w++){var y=r.x+w,U=r.y+I,_=U*a+y,P=f[_];P==0||n[e-1].dispose==0&&m[_]==P&&(h==null||h[4*_+3]!=0)||(y<v&&(v=y),y>g&&(g=y),U<p&&(p=U),U>V&&(V=U))}g==-1&&(v=p=g=V=0),s&&((1&v)==1&&v--,(1&p)==1&&p--),r={x:v,y:p,width:g-v+1,height:V-p+1};var A=n[e];A.rect=r,A.blend=1,A.img=new Uint8Array(r.width*r.height*4),n[e-1].dispose==0?(UPNG._copyTile(l,a,c,A.img,r.width,r.height,-r.x,-r.y,0),UPNG.encode._prepareDiff(d,a,c,A.img,r)):UPNG._copyTile(d,a,c,A.img,r.width,r.height,-r.x,-r.y,0)},UPNG.encode._prepareDiff=function(t,a,c,n,e){UPNG._copyTile(t,a,c,n,e.width,e.height,-e.x,-e.y,2)},UPNG.encode._filterZero=function(t,a,c,n,e,r,s){var i,u=[],l=[0,1,2,3,4];r!=-1?l=[r]:(a*n>5e5||c==1)&&(l=[0]),s&&(i={level:0});for(var m,h=UZIP,d=0;d<l.length;d++){for(var f=0;f<a;f++)UPNG.encode._filterLine(e,t,f,n,c,l[d]);u.push(h.deflate(e,i))}var v=1e9;for(d=0;d<u.length;d++)u[d].length<v&&(m=d,v=u[d].length);return u[m]},UPNG.encode._filterLine=function(t,a,c,n,e,r){var s=c*n,i=s+c,u=UPNG.decode._paeth;if(t[i]=r,i++,r==0)if(n<500)for(var l=0;l<n;l++)t[i+l]=a[s+l];else t.set(new Uint8Array(a.buffer,s,n),i);else if(r==1){for(l=0;l<e;l++)t[i+l]=a[s+l];for(l=e;l<n;l++)t[i+l]=a[s+l]-a[s+l-e]+256&255}else if(c==0){for(l=0;l<e;l++)t[i+l]=a[s+l];if(r==2)for(l=e;l<n;l++)t[i+l]=a[s+l];if(r==3)for(l=e;l<n;l++)t[i+l]=a[s+l]-(a[s+l-e]>>1)+256&255;if(r==4)for(l=e;l<n;l++)t[i+l]=a[s+l]-u(a[s+l-e],0,0)+256&255}else{if(r==2)for(l=0;l<n;l++)t[i+l]=a[s+l]+256-a[s+l-n]&255;if(r==3){for(l=0;l<e;l++)t[i+l]=a[s+l]+256-(a[s+l-n]>>1)&255;for(l=e;l<n;l++)t[i+l]=a[s+l]+256-(a[s+l-n]+a[s+l-e]>>1)&255}if(r==4){for(l=0;l<e;l++)t[i+l]=a[s+l]+256-u(0,a[s+l-n],0)&255;for(l=e;l<n;l++)t[i+l]=a[s+l]+256-u(a[s+l-e],a[s+l-n],a[s+l-e-n])&255}}},UPNG.crc={table:function(){for(var t=new Uint32Array(256),a=0;a<256;a++){for(var c=a,n=0;n<8;n++)1&c?c=3988292384^c>>>1:c>>>=1;t[a]=c}return t}(),update:function(a,c,n,e){for(var r=0;r<e;r++)a=UPNG.crc.table[255&(a^c[n+r])]^a>>>8;return a},crc:function(a,c,n){return 4294967295^UPNG.crc.update(4294967295,a,c,n)}},UPNG.quantize=function(t,a){var c,n=new Uint8Array(t),e=n.slice(0),r=new Uint32Array(e.buffer),s=UPNG.quantize.getKDtree(e,a),i=s[0],u=s[1],l=UPNG.quantize.planeDst,m=n,h=r,d=m.length,f=new Uint8Array(n.length>>2);if(n.length<2e7)for(var v=0;v<d;v+=4){var p=m[v]*.00392156862745098,g=m[v+1]*(1/255),V=m[v+2]*(1/255),I=m[v+3]*(1/255);c=UPNG.quantize.getNearest(i,p,g,V,I),f[v>>2]=c.ind,h[v>>2]=c.est.rgba}else for(v=0;v<d;v+=4){for(p=m[v]*(1/255),g=m[v+1]*(1/255),V=m[v+2]*(1/255),I=m[v+3]*(1/255),c=i;c.left;)c=l(c.est,p,g,V,I)<=0?c.left:c.right;f[v>>2]=c.ind,h[v>>2]=c.est.rgba}return{abuf:e.buffer,inds:f,plte:u}},UPNG.quantize.getKDtree=function(t,a,c){c==null&&(c=1e-4);var n=new Uint32Array(t.buffer),e={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};e.bst=UPNG.quantize.stats(t,e.i0,e.i1),e.est=UPNG.quantize.estats(e.bst);for(var r=[e];r.length<a;){for(var s=0,i=0,u=0;u<r.length;u++)r[u].est.L>s&&(s=r[u].est.L,i=u);if(s<c)break;var l=r[i],m=UPNG.quantize.splitPixels(t,n,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=m||l.i1<=m)l.est.L=0;else{var h={i0:l.i0,i1:m,bst:null,est:null,tdst:0,left:null,right:null};h.bst=UPNG.quantize.stats(t,h.i0,h.i1),h.est=UPNG.quantize.estats(h.bst);var d={i0:m,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(d.bst={R:[],m:[],N:l.bst.N-h.bst.N},u=0;u<16;u++)d.bst.R[u]=l.bst.R[u]-h.bst.R[u];for(u=0;u<4;u++)d.bst.m[u]=l.bst.m[u]-h.bst.m[u];d.est=UPNG.quantize.estats(d.bst),l.left=h,l.right=d,r[i]=h,r.push(d)}}for(r.sort(function(f,v){return v.bst.N-f.bst.N}),u=0;u<r.length;u++)r[u].ind=u;return[e,r]},UPNG.quantize.getNearest=function(t,a,c,n,e){if(t.left==null)return t.tdst=UPNG.quantize.dist(t.est.q,a,c,n,e),t;var r=UPNG.quantize.planeDst(t.est,a,c,n,e),s=t.left,i=t.right;r>0&&(s=t.right,i=t.left);var u=UPNG.quantize.getNearest(s,a,c,n,e);if(u.tdst<=r*r)return u;var l=UPNG.quantize.getNearest(i,a,c,n,e);return l.tdst<u.tdst?l:u},UPNG.quantize.planeDst=function(t,a,c,n,e){var r=t.e;return r[0]*a+r[1]*c+r[2]*n+r[3]*e-t.eMq},UPNG.quantize.dist=function(t,a,c,n,e){var r=a-t[0],s=c-t[1],i=n-t[2],u=e-t[3];return r*r+s*s+i*i+u*u},UPNG.quantize.splitPixels=function(t,a,c,n,e,r){var s=UPNG.quantize.vecDot;for(n-=4;c<n;){for(;s(t,c,e)<=r;)c+=4;for(;s(t,n,e)>r;)n-=4;if(c>=n)break;var i=a[c>>2];a[c>>2]=a[n>>2],a[n>>2]=i,c+=4,n-=4}for(;s(t,c,e)>r;)c-=4;return c+4},UPNG.quantize.vecDot=function(t,a,c){return t[a]*c[0]+t[a+1]*c[1]+t[a+2]*c[2]+t[a+3]*c[3]},UPNG.quantize.stats=function(t,a,c){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,0,0,0],r=c-a>>2,s=a;s<c;s+=4){var i=t[s]*.00392156862745098,u=t[s+1]*(1/255),l=t[s+2]*(1/255),m=t[s+3]*(1/255);e[0]+=i,e[1]+=u,e[2]+=l,e[3]+=m,n[0]+=i*i,n[1]+=i*u,n[2]+=i*l,n[3]+=i*m,n[5]+=u*u,n[6]+=u*l,n[7]+=u*m,n[10]+=l*l,n[11]+=l*m,n[15]+=m*m}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:e,N:r}},UPNG.quantize.estats=function(t){var a=t.R,c=t.m,n=t.N,e=c[0],r=c[1],s=c[2],i=c[3],u=n==0?0:1/n,l=[a[0]-e*e*u,a[1]-e*r*u,a[2]-e*s*u,a[3]-e*i*u,a[4]-r*e*u,a[5]-r*r*u,a[6]-r*s*u,a[7]-r*i*u,a[8]-s*e*u,a[9]-s*r*u,a[10]-s*s*u,a[11]-s*i*u,a[12]-i*e*u,a[13]-i*r*u,a[14]-i*s*u,a[15]-i*i*u],m=l,h=UPNG.M4,d=[Math.random(),Math.random(),Math.random(),Math.random()],f=0,v=0;if(n!=0)for(var p=0;p<16&&(d=h.multVec(m,d),v=Math.sqrt(h.dot(d,d)),d=h.sml(1/v,d),!(p!=0&&Math.abs(v-f)<1e-9));p++)f=v;var g=[e*u,r*u,s*u,i*u];return{Cov:l,q:g,e:d,L:f,eMq255:h.dot(h.sml(255,g),d),eMq:h.dot(d,g),rgba:(Math.round(255*g[3])<<24|Math.round(255*g[2])<<16|Math.round(255*g[1])<<8|Math.round(255*g[0])<<0)>>>0}},UPNG.M4={multVec:function(a,c){return[a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3],a[4]*c[0]+a[5]*c[1]+a[6]*c[2]+a[7]*c[3],a[8]*c[0]+a[9]*c[1]+a[10]*c[2]+a[11]*c[3],a[12]*c[0]+a[13]*c[1]+a[14]*c[2]+a[15]*c[3]]},dot:function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]},sml:function(a,c){return[a*c[0],a*c[1],a*c[2],a*c[3]]}},UPNG.encode.concatRGBA=function(t){for(var a=0,c=0;c<t.length;c++)a+=t[c].byteLength;var n=new Uint8Array(a),e=0;for(c=0;c<t.length;c++){for(var r=new Uint8Array(t[c]),s=r.length,i=0;i<s;i+=4){var u=r[i],l=r[i+1],m=r[i+2],h=r[i+3];h==0&&(u=l=m=0),n[e+i]=u,n[e+i+1]=l,n[e+i+2]=m,n[e+i+3]=h}e+=s}return n.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser=typeof window<"u",moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||window.File!==void 0&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||window.FileReader!==void 0&&FileReader);function getFilefromDataUrl(t,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Date.now();return new Promise(function(n){for(var e=t.split(","),r=e[0].match(/:(.*?);/)[1],s=globalThis.atob(e[1]),i=s.length,u=new Uint8Array(i);i--;)u[i]=s.charCodeAt(i);var l=new Blob([u],{type:r});l.name=a,l.lastModified=c,n(l)})}function getDataUrlFromFile(t){return new Promise(function(a,c){var n=new CustomFileReader;n.onload=function(){return a(n.result)},n.onerror=function(e){return c(e)},n.readAsDataURL(t)})}function loadImage(t){return new Promise(function(a,c){var n=new Image;n.onload=function(){return a(n)},n.onerror=function(e){return c(e)},n.src=t})}function getBrowserName(){if(getBrowserName.cachedResult!==void 0)return getBrowserName.cachedResult;var t=BROWSER_NAME.ETC,a=navigator.userAgent;return/Chrom(e|ium)/i.test(a)?t=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(a)&&/WebKit/i.test(a)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(a)?t=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(a)?t=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(a)?t=BROWSER_NAME.FIREFOX:(/MSIE/i.test(a)||!!document.documentMode)&&(t=BROWSER_NAME.IE),getBrowserName.cachedResult=t,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(t,a){for(var c=getBrowserName(),n=MAX_CANVAS_SIZE[c],e=t,r=a,s=e*r,i=e>r?r/e:e/r;s>n*n;){var u=(n+e)/2,l=(n+r)/2;u<l?(r=l,e=l*i):(r=u*i,e=u),s=e*r}return{width:e,height:r}}function getNewCanvasAndCtx(t,a){var c,n;try{if((n=(c=new OffscreenCanvas(t,a)).getContext("2d"))===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=(c=document.createElement("canvas")).getContext("2d")}return c.width=t,c.height=a,[c,n]}function drawImageInCanvas(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=approximateBelowMaximumCanvasSizeOfBrowser(t.width,t.height),n=c.width,e=c.height,r=getNewCanvasAndCtx(n,e),s=_slicedToArray(r,2),i=s[0],u=s[1];return a&&/jpe?g/.test(a)&&(u.fillStyle="white",u.fillRect(0,0,i.width,i.height)),u.drawImage(t,0,0,i.width,i.height),i}function isIOS(){return isIOS.cachedResult!==void 0||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(c,n){var e,r,s=function(){try{return r=drawImageInCanvas(e,a.fileType||t.type),c([e,r])}catch(l){return n(l)}},i=function(l){try{var m=function(d){try{throw d}catch(f){return n(f)}};try{return getDataUrlFromFile(t).then(function(h){try{return loadImage(h).then(function(d){try{return e=d,function(){try{return s()}catch(v){return n(v)}}()}catch(f){return m(f)}},m)}catch(d){return m(d)}},m)}catch(h){m(h)}}catch(h){return n(h)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(u){try{return e=u,s()}catch{return i()}},i)}catch{i()}})}function canvasToFile(t,a,c,n){var e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(r,s){var i,u,l;if(a==="image/png")return u=t.getContext("2d").getImageData(0,0,t.width,t.height).data,l=UPNG.encode([u],t.width,t.height,256*e),(i=new Blob([l],{type:a})).name=c,i.lastModified=n,m.call(this);{let h=function(){return m.call(this)};return typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas?t.convertToBlob({type:a,quality:e}).then(function(d){try{return(i=d).name=c,i.lastModified=n,h.call(this)}catch(f){return s(f)}}.bind(this),s):getFilefromDataUrl(t.toDataURL(a,e),c,n).then(function(d){try{return i=d,h.call(this)}catch(f){return s(f)}}.bind(this),s)}function m(){return r(i)}})}function cleanupCanvasMemory(t){t.width=0,t.height=0}function isAutoOrientationInBrowser(){return new Promise(function(t,a){var c,n,e,r;return isAutoOrientationInBrowser.cachedResult!==void 0?t(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return drawFileInCanvas(c=s).then(function(i){try{return canvasToFile(n=i[1],c.type,c.name,c.lastModified).then(function(u){try{return e=u,cleanupCanvasMemory(n),drawFileInCanvas(e).then(function(l){try{return r=l[0],isAutoOrientationInBrowser.cachedResult=r.width===1&&r.height===2,t(isAutoOrientationInBrowser.cachedResult)}catch(m){return a(m)}},a)}catch(l){return a(l)}},a)}catch(u){return a(u)}},a)}catch(i){return a(i)}},a)})}function getExifOrientation(t){return new Promise(function(a,c){var n=new CustomFileReader;n.onload=function(e){var r=new DataView(e.target.result);if(r.getUint16(0,!1)!=65496)return a(-2);for(var s=r.byteLength,i=2;i<s;){if(r.getUint16(i+2,!1)<=8)return a(-1);var u=r.getUint16(i,!1);if(i+=2,u==65505){if(r.getUint32(i+=2,!1)!=1165519206)return a(-1);var l=r.getUint16(i+=6,!1)==18761;i+=r.getUint32(i+4,l);var m=r.getUint16(i,l);i+=2;for(var h=0;h<m;h++)if(r.getUint16(i+12*h,l)==274)return a(r.getUint16(i+12*h+8,l))}else{if((65280&u)!=65280)break;i+=r.getUint16(i,!1)}}return a(-1)},n.onerror=function(e){return c(e)},n.readAsArrayBuffer(t)})}function handleMaxWidthOrHeight(t,a){var c,n=t.width,e=t.height,r=a.maxWidthOrHeight,s=t;if(isFinite(r)&&(n>r||e>r)){var i=_slicedToArray(getNewCanvasAndCtx(n,e),2);s=i[0],c=i[1],n>e?(s.width=r,s.height=e/n*r):(s.width=n/e*r,s.height=r),c.drawImage(t,0,0,s.width,s.height),cleanupCanvasMemory(t)}return s}function followExifOrientation(t,a){var c=t.width,n=t.height,e=_slicedToArray(getNewCanvasAndCtx(c,n),2),r=e[0],s=e[1];switch(a>4&&a<9?(r.width=n,r.height=c):(r.width=c,r.height=n),a){case 2:s.transform(-1,0,0,1,c,0);break;case 3:s.transform(-1,0,0,-1,c,n);break;case 4:s.transform(1,0,0,-1,0,n);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,n,0);break;case 7:s.transform(0,-1,-1,0,n,c);break;case 8:s.transform(0,-1,1,0,0,c)}return s.drawImage(t,0,0,c,n),cleanupCanvasMemory(t),r}function compress(t,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Promise(function(n,e){var r,s,i,u,l,m,h,d,f,v,p,g,V,I,w,y,U,_,P;function A(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;if(a.signal&&a.signal.aborted)throw a.signal.reason;r+=b,a.onProgress(Math.min(r,100))}function F(b){if(a.signal&&a.signal.aborted)throw a.signal.reason;r=Math.min(Math.max(b,r),100),a.onProgress(r)}return r=c,s=a.maxIteration||10,i=1024*a.maxSizeMB*1024,A(),drawFileInCanvas(t,a).then(function(b){try{var x=_slicedToArray(b,2);return u=x[1],A(),l=handleMaxWidthOrHeight(u,a),A(),new Promise(function(C,R){var B;if(!(B=a.exifOrientation))return getExifOrientation(t).then(function(E){try{return B=E,G.call(this)}catch(M){return R(M)}}.bind(this),R);function G(){return C(B)}return G.call(this)}).then(function(C){try{return m=C,A(),isAutoOrientationInBrowser().then(function(R){try{return h=R?l:followExifOrientation(l,m),A(),d=a.initialQuality||1,f=a.fileType||t.type,canvasToFile(h,f,t.name,t.lastModified,d).then(function(B){try{{let E=function(){if(s--&&(w>i||w>V)){var S,T,O=_slicedToArray(getNewCanvasAndCtx(S=P?.95*_.width:_.width,T=P?.95*_.height:_.height),2);return U=O[0],O[1].drawImage(_,0,0,S,T),d*=.95,canvasToFile(U,f,t.name,t.lastModified,d).then(function(D){try{return y=D,cleanupCanvasMemory(_),_=U,w=y.size,F(Math.min(99,Math.floor((I-w)/(I-i)*100))),E}catch(L){return e(L)}},e)}return[1]},M=function(){return cleanupCanvasMemory(_),cleanupCanvasMemory(U),cleanupCanvasMemory(l),cleanupCanvasMemory(h),cleanupCanvasMemory(u),F(100),n(y)};if(v=B,A(),p=v.size>i,g=v.size>t.size,!p&&!g)return F(100),n(v);var G;return V=t.size,I=v.size,w=I,_=h,P=!a.alwaysKeepResolution&&p,(G=function(S){for(;S;){if(S.then)return void S.then(G,e);try{if(S.pop){if(S.length)return S.pop()?M.call(this):S;S=E}else S=S.call(this)}catch(T){return e(T)}}}.bind(this))(E)}}catch(E){return e(E)}}.bind(this),e)}catch(B){return e(B)}}.bind(this),e)}catch(R){return e(R)}}.bind(this),e)}catch(C){return e(C)}}.bind(this),e)})}var cnt=0,imageCompressionLibUrl,worker;function createWorker(t){var a=[];return typeof t=="function"?a.push("(".concat(t,")()")):a.push(t),new Worker(URL.createObjectURL(new Blob(a)))}function createSourceObject(t){return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}function stringify(t){return JSON.stringify(t,function(a,c){return typeof c=="function"?"BIC_FN:::(function () { return ".concat(c.toString()," })()"):c})}function parse(o){if(typeof o=="string")return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(typeof value=="string"&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(t){throw t}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject(`
    // reconstruct library
    function imageCompression (){return (`.concat(imageCompression,`).apply(null, arguments)}

    imageCompression.getDataUrlFromFile = `).concat(imageCompression.getDataUrlFromFile,`
    imageCompression.getFilefromDataUrl = `).concat(imageCompression.getFilefromDataUrl,`
    imageCompression.loadImage = `).concat(imageCompression.loadImage,`
    imageCompression.drawImageInCanvas = `).concat(imageCompression.drawImageInCanvas,`
    imageCompression.drawFileInCanvas = `).concat(imageCompression.drawFileInCanvas,`
    imageCompression.canvasToFile = `).concat(imageCompression.canvasToFile,`
    imageCompression.getExifOrientation = `).concat(imageCompression.getExifOrientation,`
    imageCompression.handleMaxWidthOrHeight = `).concat(imageCompression.handleMaxWidthOrHeight,`
    imageCompression.followExifOrientation = `).concat(imageCompression.followExifOrientation,`
    imageCompression.cleanupCanvasMemory = `).concat(imageCompression.cleanupCanvasMemory,`
    imageCompression.isAutoOrientationInBrowser = `).concat(imageCompression.isAutoOrientationInBrowser,`
    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = `).concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,`
    imageCompression.getBrowserName = `).concat(imageCompression.getBrowserName,`

    // functions / objects
    getDataUrlFromFile = imageCompression.getDataUrlFromFile
    getFilefromDataUrl = imageCompression.getFilefromDataUrl
    loadImage = imageCompression.loadImage
    drawImageInCanvas = imageCompression.drawImageInCanvas
    drawFileInCanvas = imageCompression.drawFileInCanvas
    canvasToFile = imageCompression.canvasToFile
    getExifOrientation = imageCompression.getExifOrientation
    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight
    followExifOrientation = imageCompression.followExifOrientation
    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory
    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser
    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser
    getBrowserName = imageCompression.getBrowserName
    isIOS = `).concat(isIOS,`
    
    getNewCanvasAndCtx = `).concat(getNewCanvasAndCtx,`
    CustomFileReader = FileReader
    CustomFile = File
    MAX_CANVAS_SIZE = `).concat(JSON.stringify(MAX_CANVAS_SIZE),`
    BROWSER_NAME = `).concat(JSON.stringify(BROWSER_NAME),`
    function compress (){return (`).concat(compress,`).apply(null, arguments)}

    // core-js
    function _slicedToArray(arr, n) { return arr }
    function _typeof(a) { return typeof a }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
  
        Object.assign(target, source)
      }
  
      return target;
    }

    // Libraries
    const parse = `).concat(parse,`
    const UPNG = {}
    UPNG.toRGBA8 = `).concat(UPNG.toRGBA8,`
    UPNG.toRGBA8.decodeImage = `).concat(UPNG.toRGBA8.decodeImage,`
    UPNG.decode = `).concat(UPNG.decode,`
    UPNG.decode._decompress = `).concat(UPNG.decode._decompress,`
    UPNG.decode._inflate = `).concat(UPNG.decode._inflate,`
    UPNG.decode._readInterlace = `).concat(UPNG.decode._readInterlace,`
    UPNG.decode._getBPP = `).concat(UPNG.decode._getBPP,` 
    UPNG.decode._filterZero = `).concat(UPNG.decode._filterZero,`
    UPNG.decode._paeth = `).concat(UPNG.decode._paeth,`
    UPNG.decode._IHDR = `).concat(UPNG.decode._IHDR,`
    UPNG._bin = parse(`).concat(stringify(UPNG._bin),`)
    UPNG._copyTile = `).concat(UPNG._copyTile,`
    UPNG.encode = `).concat(UPNG.encode,`
    UPNG.encodeLL = `).concat(UPNG.encodeLL,` 
    UPNG.encode._main = `).concat(UPNG.encode._main,`
    UPNG.encode.compressPNG = `).concat(UPNG.encode.compressPNG,` 
    UPNG.encode.compress = `).concat(UPNG.encode.compress,`
    UPNG.encode.framize = `).concat(UPNG.encode.framize,` 
    UPNG.encode._updateFrame = `).concat(UPNG.encode._updateFrame,` 
    UPNG.encode._prepareDiff = `).concat(UPNG.encode._prepareDiff,` 
    UPNG.encode._filterZero = `).concat(UPNG.encode._filterZero,` 
    UPNG.encode._filterLine = `).concat(UPNG.encode._filterLine,`
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.crc = parse(`).concat(stringify(UPNG.crc),`)
    UPNG.crc.table = ( function() {
    var tab = new Uint32Array(256);
    for (var n=0; n<256; n++) {
      var c = n;
      for (var k=0; k<8; k++) {
        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
        else        c = c >>> 1;
      }
      tab[n] = c;  }
    return tab;  })()
    UPNG.quantize = `).concat(UPNG.quantize,` 
    UPNG.quantize.getKDtree = `).concat(UPNG.quantize.getKDtree,` 
    UPNG.quantize.getNearest = `).concat(UPNG.quantize.getNearest,` 
    UPNG.quantize.planeDst = `).concat(UPNG.quantize.planeDst,` 
    UPNG.quantize.dist = `).concat(UPNG.quantize.dist,`     
    UPNG.quantize.splitPixels = `).concat(UPNG.quantize.splitPixels,` 
    UPNG.quantize.vecDot = `).concat(UPNG.quantize.vecDot,` 
    UPNG.quantize.stats = `).concat(UPNG.quantize.stats,` 
    UPNG.quantize.estats = `).concat(UPNG.quantize.estats,`
    UPNG.M4 = parse(`).concat(stringify(UPNG.M4),`)
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.inflateRaw=function(){
    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;
      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;
      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);
        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;
        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;
        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;
                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;
        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);
        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;
        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);
        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};
      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};
      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;
        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);
          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;
        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};
      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;
        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];
          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);
        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;
                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};
      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};
      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};
      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;
        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();
      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;
        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;
        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];
        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);
        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);
        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()
    
    const UZIP = {}
    UZIP["parse"] = `).concat(UZIP_1.parse,`
    UZIP._readLocal = `).concat(UZIP_1._readLocal,`
    UZIP.inflateRaw = `).concat(UZIP_1.inflateRaw,`
    UZIP.inflate = `).concat(UZIP_1.inflate,`
    UZIP.deflate = `).concat(UZIP_1.deflate,`
    UZIP.deflateRaw = `).concat(UZIP_1.deflateRaw,`
    UZIP.encode = `).concat(UZIP_1.encode,`
    UZIP._noNeed = `).concat(UZIP_1._noNeed,`
    UZIP._writeHeader = `).concat(UZIP_1._writeHeader,`
    UZIP.crc = parse(`).concat(stringify(UZIP_1.crc),`)
    UZIP.crc.table = ( function() {
      var tab = new Uint32Array(256);
      for (var n=0; n<256; n++) {
        var c = n;
        for (var k=0; k<8; k++) {
          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
          else        c = c >>> 1;
        }
        tab[n] = c;  }
      return tab;  })()
    
    UZIP.adler = `).concat(UZIP_1.adler,`
    UZIP.bin = parse(`).concat(stringify(UZIP_1.bin),`)
    UZIP.F = {}
    UZIP.F.deflateRaw = `).concat(UZIP_1.F.deflateRaw,`
    UZIP.F._bestMatch = `).concat(UZIP_1.F._bestMatch,`
    UZIP.F._howLong = `).concat(UZIP_1.F._howLong,`
    UZIP.F._hash = `).concat(UZIP_1.F._hash,`
    UZIP.saved = `).concat(UZIP_1.saved,`
    UZIP.F._writeBlock = `).concat(UZIP_1.F._writeBlock,`
    UZIP.F._copyExact = `).concat(UZIP_1.F._copyExact,`
    UZIP.F.getTrees = `).concat(UZIP_1.F.getTrees,`
    UZIP.F.getSecond = `).concat(UZIP_1.F.getSecond,`
    UZIP.F.nonZero = `).concat(UZIP_1.F.nonZero,`
    UZIP.F.contSize = `).concat(UZIP_1.F.contSize,`
    UZIP.F._codeTiny = `).concat(UZIP_1.F._codeTiny,` 
    UZIP.F._lenCodes = `).concat(UZIP_1.F._lenCodes,` 
    UZIP.F._hufTree = `).concat(UZIP_1.F._hufTree,` 
    UZIP.F.setDepth = `).concat(UZIP_1.F.setDepth,` 
    UZIP.F.restrictDepth = `).concat(UZIP_1.F.restrictDepth,`
    UZIP.F._goodIndex = `).concat(UZIP_1.F._goodIndex,` 
    UZIP.F._writeLit = `).concat(UZIP_1.F._writeLit,` 
    UZIP.F.inflate = `).concat(UZIP_1.F.inflate,` 
    UZIP.F._check = `).concat(UZIP_1.F._check,` 
    UZIP.F._decodeTiny = `).concat(UZIP_1.F._decodeTiny,` 
    UZIP.F._copyOut = `).concat(UZIP_1.F._copyOut,` 
    UZIP.F.makeCodes = `).concat(UZIP_1.F.makeCodes,` 
    UZIP.F.codes2map = `).concat(UZIP_1.F.codes2map,` 
    UZIP.F.revCodes = `).concat(UZIP_1.F.revCodes,` 

    // used only in deflate
    UZIP.F._putsE = `).concat(UZIP_1.F._putsE,`
    UZIP.F._putsF = `).concat(UZIP_1.F._putsF,`
  
    UZIP.F._bitsE = `).concat(UZIP_1.F._bitsE,`
    UZIP.F._bitsF = `).concat(UZIP_1.F._bitsF,`

    UZIP.F._get17 = `).concat(UZIP_1.F._get17,`
    UZIP.F._get25 = `).concat(UZIP_1.F._get25,`
    UZIP.F.U = function(){
      var u16=Uint16Array, u32=Uint32Array;
      return {
        next_code : new u16(16),
        bl_count  : new u16(16),
        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],
        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],
        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],
        ldef : new u16(32),
        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],
        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],
        ddef : new u32(32),
        flmap: new u16(  512),  fltree: [],
        fdmap: new u16(   32),  fdtree: [],
        lmap : new u16(32768),  ltree : [],  ttree:[],
        dmap : new u16(32768),  dtree : [],
        imap : new u16(  512),  itree : [],
        //rev9 : new u16(  512)
        rev15: new u16(1<<15),
        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),
        lits : new u32(15000),
        strt : new u16(1<<16),
        prev : new u16(1<<15)
      };
    } ();

    (function(){
      var U = UZIP.F.U;
      var len = 1<<15;
      for(var i=0; i<len; i++) {
        var x = i;
        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));
        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));
        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));
        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));
        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;
      }
  
      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }
  
      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }
  
      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);
      /*
        var i = 0;
        for(; i<=143; i++) U.fltree.push(0,8);
        for(; i<=255; i++) U.fltree.push(0,9);
        for(; i<=279; i++) U.fltree.push(0,7);
        for(; i<=287; i++) U.fltree.push(0,8);
        */
      UZIP.F.makeCodes(U.fltree, 9);
      UZIP.F.codes2map(U.fltree, 9, U.flmap);
      UZIP.F.revCodes (U.fltree, 9)
  
      pushV(U.fdtree,32,5);
      //for(i=0;i<32; i++) U.fdtree.push(0,5);
      UZIP.F.makeCodes(U.fdtree, 5);
      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);
      UZIP.F.revCodes (U.fdtree, 5)
  
      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);
      /*
        for(var i=0; i< 19; i++) U.itree.push(0,0);
        for(var i=0; i<286; i++) U.ltree.push(0,0);
        for(var i=0; i< 30; i++) U.dtree.push(0,0);
        for(var i=0; i<320; i++) U.ttree.push(0,0);
        */
    })()
    `))}function generateWorkerScript(){return createWorker(`
    let scriptImported = false
    self.addEventListener('message', async (e) => {
      const { file, id, imageCompressionLibUrl, options } = e.data
      options.onProgress = (progress) => self.postMessage({ progress, id })
      try {
        if (!scriptImported) {
          // console.log('[worker] importScripts', imageCompressionLibUrl)
          self.importScripts(imageCompressionLibUrl)
          scriptImported = true
        }
        // console.log('[worker] self', self)
        const compressedFile = await imageCompression(file, options)
        self.postMessage({ file: compressedFile, id })
      } catch (e) {
        // console.error('[worker] error', e)
        self.postMessage({ error: e.message + '\\n' + e.stack, id })
      }
    })
  `)}function compressOnWebWorker(t,a){return new Promise(function(c,n){var e=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function r(s){if(s.data.id===e){if(a.signal&&a.signal.aborted)return;if(s.data.progress!==void 0)return void a.onProgress(s.data.progress);worker.removeEventListener("message",r),s.data.error&&n(new Error(s.data.error)),c(s.data.file)}}),worker.addEventListener("error",n),a.signal&&a.signal.addEventListener("abort",function(){worker.terminate(),n(a.signal.reason)}),worker.postMessage({file:t,id:e,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},a),{},{onProgress:void 0,signal:void 0})})})}function imageCompression(t,a){return new Promise(function(c,n){var e,r,s,i,u,l;if(e=_objectSpread2({},a),s=0,i=e.onProgress,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=function(f){s=f,typeof i=="function"&&i(s)},!(t instanceof Blob||t instanceof CustomFile))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(l=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||l)return compress(t,e).then(function(f){try{return r=f,d.call(this)}catch(v){return n(v)}}.bind(this),n);var m=function(){try{return d.call(this)}catch(f){return n(f)}}.bind(this),h=function(v){try{return compress(t,e).then(function(p){try{return r=p,m()}catch(g){return n(g)}},n)}catch(p){return n(p)}};try{return compressOnWebWorker(t,e).then(function(f){try{return r=f,m()}catch{return h()}},h)}catch{h()}function d(){try{r.name=t.name,r.lastModified=t.lastModified}catch{}return c(r)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0";const ProfilePhoto_vue_vue_type_style_index_0_scoped_f83a59df_lang="",VWindow$1="",handleGesture=t=>{const{touchstartX:a,touchendX:c,touchstartY:n,touchendY:e}=t,r=.5,s=16;t.offsetX=c-a,t.offsetY=e-n,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&c<a-s&&t.left(t),t.right&&c>a+s&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&e<n-s&&t.up(t),t.down&&e>n+s&&t.down(t))};function touchstart(t,a){var n;const c=t.changedTouches[0];a.touchstartX=c.clientX,a.touchstartY=c.clientY,(n=a.start)==null||n.call(a,{originalEvent:t,...a})}function touchend(t,a){var n;const c=t.changedTouches[0];a.touchendX=c.clientX,a.touchendY=c.clientY,(n=a.end)==null||n.call(a,{originalEvent:t,...a}),handleGesture(a)}function touchmove(t,a){var n;const c=t.changedTouches[0];a.touchmoveX=c.clientX,a.touchmoveY=c.clientY,(n=a.move)==null||n.call(a,{originalEvent:t,...a})}function createHandlers(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:c=>touchstart(c,a),touchend:c=>touchend(c,a),touchmove:c=>touchmove(c,a)}}function mounted(t,a){var i,u,l;const c=a.value,n=c!=null&&c.parent?t.parentElement:t,e=(i=c==null?void 0:c.options)!=null?i:{passive:!0},r=(u=a.instance)==null?void 0:u.$.uid;if(!n||!r)return;const s=createHandlers(a.value);n._touchHandlers=(l=n._touchHandlers)!=null?l:Object.create(null),n._touchHandlers[r]=s,keys(s).forEach(m=>{n.addEventListener(m,s[m],e)})}function unmounted(t,a){var r,s;const c=(r=a.value)!=null&&r.parent?t.parentElement:t,n=(s=a.instance)==null?void 0:s.$.uid;if(!(c!=null&&c._touchHandlers)||!n)return;const e=c._touchHandlers[n];keys(e).forEach(i=>{c.removeEventListener(i,e[i])}),delete c._touchHandlers[n]}const Touch={mounted,unmounted},Touch$1=Touch,VWindowSymbol=Symbol.for("vuetify:v-window"),VWindowGroupSymbol=Symbol.for("vuetify:v-window-group"),VWindow=genericComponent()({name:"VWindow",directives:{Touch},props:{continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0},setup(t,a){let{slots:c}=a;const{themeClasses:n}=provideTheme(t),{isRtl:e}=useRtl(),{t:r}=useLocale(),s=useGroup(t,VWindowGroupSymbol),i=ref(),u=computed(()=>e.value?!t.reverse:t.reverse),l=ref(!1),m=computed(()=>{const y=t.direction==="vertical"?"y":"x",_=(u.value?!l.value:l.value)?"-reverse":"";return`v-window-${y}${_}-transition`}),h=ref(0),d=ref(void 0),f=computed(()=>s.items.value.findIndex(y=>s.selected.value.includes(y.id)));watch(f,(y,U)=>{const _=s.items.value.length,P=_-1;_<=2?l.value=y<U:y===P&&U===0?l.value=!0:y===0&&U===P?l.value=!1:l.value=y<U}),provide(VWindowSymbol,{transition:m,isReversed:l,transitionCount:h,transitionHeight:d,rootRef:i});const v=computed(()=>t.continuous||f.value!==0),p=computed(()=>t.continuous||f.value!==s.items.value.length-1);function g(){v.value&&s.prev()}function V(){p.value&&s.next()}const I=computed(()=>{const y=[],U={icon:e.value?t.nextIcon:t.prevIcon,class:`v-window__${u.value?"right":"left"}`,onClick:s.prev,ariaLabel:r("$vuetify.carousel.prev")};y.push(v.value?c.prev?c.prev({props:U}):createVNode(VBtn,U,null):createVNode("div",null,null));const _={icon:e.value?t.prevIcon:t.nextIcon,class:`v-window__${u.value?"left":"right"}`,onClick:s.next,ariaLabel:r("$vuetify.carousel.next")};return y.push(p.value?c.next?c.next({props:_}):createVNode(VBtn,_,null):createVNode("div",null,null)),y}),w=computed(()=>t.touch===!1?t.touch:{...{left:()=>{u.value?g():V()},right:()=>{u.value?V():g()},start:U=>{let{originalEvent:_}=U;_.stopPropagation()}},...t.touch===!0?{}:t.touch});return useRender(()=>withDirectives(createVNode(t.tag,{ref:i,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},n.value]},{default:()=>{var y,U;return[createVNode("div",{class:"v-window__container",style:{height:d.value}},[(y=c.default)==null?void 0:y.call(c,{group:s}),t.showArrows!==!1&&createVNode("div",{class:"v-window__controls"},[I.value])]),(U=c.additional)==null?void 0:U.call(c,{group:s})]}}),[[resolveDirective("touch"),w.value]])),{group:s}}}),VWindowItem=genericComponent()({name:"VWindowItem",directives:{Touch:Touch$1},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...makeGroupItemProps(),...makeLazyProps()},emits:{"group:selected":t=>!0},setup(t,a){let{slots:c}=a;const n=inject(VWindowSymbol),e=useGroupItem(t,VWindowGroupSymbol),{isBooted:r}=useSsrBoot();if(!n||!e)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=ref(!1),i=computed(()=>n.isReversed.value?t.reverseTransition!==!1:t.transition!==!1);function u(){!s.value||!n||(s.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function l(){var v;s.value||!n||(s.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=convertToUnit((v=n.rootRef.value)==null?void 0:v.clientHeight)),n.transitionCount.value+=1)}function m(){u()}function h(v){!s.value||nextTick(()=>{!i.value||!s.value||!n||(n.transitionHeight.value=convertToUnit(v.clientHeight))})}const d=computed(()=>{const v=n.isReversed.value?t.reverseTransition:t.transition;return i.value?{name:typeof v!="string"?n.transition.value:v,onBeforeEnter:l,onAfterEnter:u,onEnterCancelled:m,onBeforeLeave:l,onAfterLeave:u,onLeaveCancelled:m,onEnter:h}:!1}),{hasContent:f}=useLazy(t,e.isSelected);return useRender(()=>createVNode(MaybeTransition,{transition:r.value&&d.value},{default:()=>{var v;return[withDirectives(createVNode("div",{class:["v-window-item",e.selectedClass.value]},[f.value&&((v=c.default)==null?void 0:v.call(c))]),[[vShow,e.isSelected.value]])]}})),{}}}),_withScopeId$1=t=>(pushScopeId("data-v-f83a59df"),t=t(),popScopeId(),t),_hoisted_1$1=_withScopeId$1(()=>createBaseVNode("h4",null,"Profile Picture",-1)),_hoisted_2$1=_withScopeId$1(()=>createBaseVNode("p",null,"Need to upload your profile picture. Do so here!",-1)),_hoisted_3$1={class:"d-flex align-center",style:{width:"100%"}},_hoisted_4$1=_withScopeId$1(()=>createBaseVNode("h4",null,"Profile Picture",-1)),_hoisted_5$1=_withScopeId$1(()=>createBaseVNode("p",null,"This is step 2!",-1)),_hoisted_6={key:0,class:"progress",id:"progress"},_hoisted_7=_withScopeId$1(()=>createBaseVNode("div",{id:"croppie"},null,-1)),_hoisted_8=_withScopeId$1(()=>createBaseVNode("h4",null,"Profile Picture",-1)),_hoisted_9=_withScopeId$1(()=>createBaseVNode("p",null,"Need to upload your profile picture. Do so here!",-1)),_hoisted_10={class:"d-flex align-center",style:{width:"100%"}},_hoisted_11={style:{"border-radius":"50%",width:"40%",height:"40%",overflow:"hidden"},class:"mx-auto"},_hoisted_12={key:0,class:"d-flex justify-center align-center"},_sfc_main$1={__name:"ProfilePhoto",emits:["close"],setup(t,{emit:a}){const c=useUserStore(),{user:n,profilePhoto:e}=storeToRefs(c),{updateUser:r}=c,s=useStorageStore(),{progress:i,imageURL:u}=storeToRefs(s),{uploadFile:l}=s,m=ref(new Date().getTime());ref(!1);const h=ref("Projekt: Staff Account"),d=ref(),f=ref(1),v=ref(!1),p=["Upload","Set","Save"];p[f.value-1];const g=ref(""),V=ref(""),I=ref();async function w(){switch(f.value){case 1:await y();break;case 2:await U();break;case 3:await _()}}async function y(){const x=document.getElementById("inputElement");m.value=new Date().getTime(),x.click(),x.addEventListener("change",()=>{const R=x.files[0],B=R.size/(1024*1024);console.log(R.size),console.log(B);let G="";v.value=!0,f.value=2;const E=new FileReader;E.addEventListener("load",()=>{G=E.result,b(.5).then(()=>{const M=document.getElementById("croppie"),S=new Croppie(M,{boundary:{width:400,height:400},viewport:{width:400,height:400,type:"circle"},customClass:"reactive"});S.bind({url:G}).then(()=>{v.value=!1,d.value=S})})}),E.readAsDataURL(R)})}async function U(){var x=d.value.result({size:"viewport",format:"webp",circle:!1}),C=F(await x,"ProfilePicture.webp");const R=await imageCompression(C,{maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0});I.value=R,b(1).then(()=>{V.value=new File([R],`${n.value.uid}_${new Date().toDateString()}_ProfilePicture.webp`,{type:"image/webp"}),g.value=URL.createObjectURL(R),f.value=3})}async function _(){console.log(V.value),l(I.value,`users/${n.value.uid}/images`,"profileImage",".webp");do await b(.5);while(u.value==null);console.log("Updating Avatar"),console.log(n.value),await r({photoURL:u.value}),console.log(n.value.photoURL),P()}function P(){a("close")}async function A(){console.log(f.value),f.value>1&&(f.value=1),d.value.destroy()}function F(x,C){for(var R=x.split(","),B=R[0].match(/:(.*?);/)[1],G=atob(R[1]),E=G.length,M=new Uint8Array(E);E--;)M[E]=G.charCodeAt(E);return new File([M],C,{type:B})}async function b(x){return new Promise(C=>setTimeout(C,x*1e3))}return(x,C)=>(openBlock(),createBlock(VCard,{class:"mx-auto",width:"50em","max-width":"80vw","max-height":"80vh"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"text-center d-flex"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"4",class:"d-flex"},{default:withCtx(()=>[f.value==1?(openBlock(),createBlock(VBtn,{key:0,icon:"mdi-close",onClick:P,class:"mr-auto"})):(openBlock(),createBlock(VBtn,{key:1,icon:"mdi-arrow-left",onClick:A,class:"mr-auto"}))]),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("h3",null,toDisplayString(h.value),1)]),_:1}),createVNode(VSpacer)]),_:1})]),_:1}),createVNode(VWindow,{modelValue:f.value,"onUpdate:modelValue":C[0]||(C[0]=R=>f.value=R),class:"window"},{default:withCtx(()=>[createVNode(VWindowItem,{value:1,class:"window-item"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[_hoisted_1$1,_hoisted_2$1,createVNode(VDivider,{class:"my-10"}),createBaseVNode("div",_hoisted_3$1,[createVNode(VAvatar,{image:unref(e),size:"20%",class:"mx-auto"},null,8,["image"])])]),_:1})]),_:1}),createVNode(VWindowItem,{value:2},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[_hoisted_4$1,_hoisted_5$1,createVNode(VDivider,{class:"my-10"}),v.value?(openBlock(),createElementBlock("div",_hoisted_6,[createVNode(VProgressCircular,{indeterminate:"",color:"primary"})])):createCommentVNode("",!0),_hoisted_7]),_:1})]),_:1}),createVNode(VWindowItem,{value:3},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[_hoisted_8,_hoisted_9,createVNode(VDivider,{class:"my-10"}),createBaseVNode("div",_hoisted_10,[createBaseVNode("div",_hoisted_11,[createVNode(VImg,{src:g.value,class:"d-flex align-center justify-center mx-auto"},{default:withCtx(()=>[unref(i)!=null&&unref(i)!=100?(openBlock(),createElementBlock("div",_hoisted_12,[createVNode(VProgressCircular,{indeterminate:"",size:111,width:15,color:"primary",class:"mx-auto"})])):createCommentVNode("",!0)]),_:1},8,["src"])])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VCardActions,null,{default:withCtx(()=>[(openBlock(),createElementBlock("input",{type:"file",class:"d-none",id:"inputElement",key:m.value})),createVNode(VBtn,{onClick:w},{default:withCtx(()=>[createTextVNode(toDisplayString(p[f.value-1]),1)]),_:1})]),_:1}),unref(i)!=null&&unref(i)!=100?(openBlock(),createBlock(VProgressLinear,{key:0,color:"primary","model-value":unref(i)},null,8,["model-value"])):createCommentVNode("",!0)]),_:1}))}},ProfilePhoto=_export_sfc(_sfc_main$1,[["__scopeId","data-v-f83a59df"]]),VDialog$1="",VDialog=genericComponent()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...makeVOverlayProps({origin:"center center",scrollStrategy:"block",transition:{component:VDialogTransition},zIndex:2400})},emits:{"update:modelValue":t=>!0},setup(t,a){let{slots:c}=a;const n=useProxiedModel(t,"modelValue"),{scopeId:e}=useScopeId(),r=ref();function s(u){var h,d;const l=u.relatedTarget,m=u.target;if(l!==m&&((h=r.value)==null?void 0:h.contentEl)&&((d=r.value)==null?void 0:d.globalTop)&&![document,r.value.contentEl].includes(m)&&!r.value.contentEl.contains(m)){const f=[...r.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter(g=>!g.hasAttribute("disabled")&&!g.matches('[tabindex="-1"]'));if(!f.length)return;const v=f[0],p=f[f.length-1];l===v?p.focus():v.focus()}}IN_BROWSER&&watch(()=>n.value&&t.retainFocus,u=>{u?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)},{immediate:!0}),watch(n,async u=>{var l,m;await nextTick(),u?(l=r.value.contentEl)==null||l.focus({preventScroll:!0}):(m=r.value.activatorEl)==null||m.focus({preventScroll:!0})});const i=computed(()=>mergeProps({"aria-haspopup":"dialog","aria-expanded":String(n.value)},t.activatorProps));return useRender(()=>{const[u]=filterVOverlayProps(t);return createVNode(VOverlay,mergeProps({ref:r,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable}]},u,{modelValue:n.value,"onUpdate:modelValue":l=>n.value=l,"aria-role":"dialog","aria-modal":"true",activatorProps:i.value},e),{activator:c.activator,default:function(){for(var l=arguments.length,m=new Array(l),h=0;h<l;h++)m[h]=arguments[h];return createVNode(VDefaultsProvider,{root:!0},{default:()=>{var d;return[(d=c.default)==null?void 0:d.call(c,...m)]}})}})}),forwardRefs({},r)}}),VHover=genericComponent()({name:"VHover",props:{disabled:Boolean,modelValue:{type:Boolean,default:void 0},...makeDelayProps()},emits:{"update:modelValue":t=>!0},setup(t,a){let{slots:c}=a;const n=useProxiedModel(t,"modelValue"),{runOpenDelay:e,runCloseDelay:r}=useDelay(t,s=>!t.disabled&&(n.value=s));return()=>{var s;return(s=c.default)==null?void 0:s.call(c,{isHovering:n.value,props:{onMouseenter:e,onMouseleave:r}})}}}),_withScopeId=t=>(pushScopeId("data-v-14e935bd"),t=t(),popScopeId(),t),_hoisted_1={key:0,class:"dashboard"},_hoisted_2={class:"account-info"},_hoisted_3={key:0,style:{},class:"d-flex justify-center align-top edit-icon"},_hoisted_4=_withScopeId(()=>createBaseVNode("h1",null,"Account information",-1)),_hoisted_5=_withScopeId(()=>createBaseVNode("strong",null,"ID:",-1)),_sfc_main=defineComponent({__name:"MyAccount",setup(t){const a=useUserStore(),{user:c,profilePhoto:n}=storeToRefs(a),e=ref(!1);return(r,s)=>unref(c)?(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(VCard,{elevation:"5",class:"mt-10 px-0"},{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode("My Account")]),_:1}),createBaseVNode("div",_hoisted_2,[createVNode(VRow,{class:"ma-0 pa-0"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",lg:"2",md:"6",class:""},{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:i,props:u})=>[createVNode(VCard,mergeProps({elevation:i?12:0},u,{class:"d-flex justify-center align-center",height:"20em",width:"20em",style:{"border-radius":"50%"},onClick:s[0]||(s[0]=l=>e.value=!0)}),{default:withCtx(()=>[createVNode(VImg,{src:unref(n)},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["profilePicture d-flex flex-column align-center justify-end pb-10",{hover:i}]),id:"profilePicture"},[i?(openBlock(),createElementBlock("div",_hoisted_3,[createVNode(VIcon,{size:50,class:"pt-10 pb-15"},{default:withCtx(()=>[createTextVNode("mdi-camera")]),_:1})])):createCommentVNode("",!0)],2)]),_:2},1032,["src"])]),_:2},1040,["elevation"])]),_:1})]),_:1}),createVNode(VDivider,{vertical:"",thickness:"5",class:"ma-5"}),createVNode(VCol,null,{default:withCtx(()=>[_hoisted_4,createBaseVNode("p",null,[_hoisted_5,createTextVNode(" "+toDisplayString(unref(c).uid),1)]),createVNode(VRow,{class:"my-10"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",lg:"6",class:"d-flex"},{default:withCtx(()=>[createVNode(VTextField,{variant:"outlined",type:"text",label:"Display Name",placeholder:unref(c).displayName?unref(c).displayName:"","persistent-placeholder":""},null,8,["placeholder"]),createVNode(VBtn,{height:"80%"},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode("mdi-pencil")]),_:1})]),_:1})]),_:1}),createVNode(VCol,{cols:"12",lg:"6",class:"d-flex"},{default:withCtx(()=>[createVNode(VTextField,{variant:"outlined",type:"text",label:"Email Address",placeholder:unref(c).email?unref(c).email:"yourEmail@work.com","persistent-placeholder":""},null,8,["placeholder"]),createVNode(VBtn,{height:"80%"},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode("mdi-pencil")]),_:1})]),_:1})]),_:1}),createVNode(VCol,{cols:"12",lg:"6",class:"d-flex"},{default:withCtx(()=>[createVNode(VTextField,{variant:"outlined",type:"text",label:"Display Name",placeholder:unref(c).displayName?unref(c).displayName:"","persistent-placeholder":""},null,8,["placeholder"]),createVNode(VBtn,{height:"80%"},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode("mdi-pencil")]),_:1})]),_:1})]),_:1}),createVNode(VCol,{cols:"12",lg:"6",class:"d-flex"},{default:withCtx(()=>[createVNode(VTextField,{variant:"outlined",type:"text",label:"Email Address",placeholder:unref(c).email?unref(c).email:"yourEmail@work.com","persistent-placeholder":""},null,8,["placeholder"]),createVNode(VBtn,{height:"80%"},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode("mdi-pencil")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),createVNode(VDialog,{modelValue:e.value,"onUpdate:modelValue":s[2]||(s[2]=i=>e.value=i),persistent:""},{default:withCtx(()=>[createVNode(ProfilePhoto,{onClose:s[1]||(s[1]=i=>e.value=!1)})]),_:1},8,["modelValue"])])):createCommentVNode("",!0)}}),MyAccount_vue_vue_type_style_index_0_scoped_14e935bd_lang="",MyAccount=_export_sfc(_sfc_main,[["__scopeId","data-v-14e935bd"]]);export{MyAccount as default};
